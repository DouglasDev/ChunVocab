var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t={exports:{}},n={},r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var l=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,l,s=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){l=r(n);for(var f=0;f<l.length;f++)o.call(n,l[f])&&(s[l[f]]=n[l[f]])}}return s},s=l,u=60103,c=60106;
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */n.Fragment=60107,n.StrictMode=60108,n.Profiler=60114;var f=60109,d=60110,h=60112;n.Suspense=60113;var p=60115,v=60116;if("function"==typeof Symbol&&Symbol.for){var y=Symbol.for;u=y("react.element"),c=y("react.portal"),n.Fragment=y("react.fragment"),n.StrictMode=y("react.strict_mode"),n.Profiler=y("react.profiler"),f=y("react.provider"),d=y("react.context"),h=y("react.forward_ref"),n.Suspense=y("react.suspense"),p=y("react.memo"),v=y("react.lazy")}var m="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||_}function C(){}function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||_}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=w.prototype;var S=k.prototype=new C;S.constructor=k,s(S,w.prototype),S.isPureReactComponent=!0;var E={current:null},T=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var s=Array(l),c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:u,type:e,key:o,ref:a,props:i,_owner:E.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===u}var N=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case u:case c:a=!0}}if(a)return i=i(a=e),e=""===r?"."+R(a,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(N,"$&/")+"/"),O(i,t,n,"",(function(e){return e}))):null!=i&&(P(i)&&(i=function(e,t){return{$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var s=r+R(o=e[l],l);a+=O(o,t,n,s,i)}else if("function"==typeof(s=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e)))for(e=s.call(e),l=0;!(o=e.next()).done;)a+=O(o=o.value,t,n,s=r+R(o,l++),i);else if("object"===o)throw t=""+e,Error(g(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function D(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function M(){var e=A.current;if(null===e)throw Error(g(321));return e}var F={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:s};n.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error(g(143));return e}},n.Component=w,n.PureComponent=k,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,n.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var r=s({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)T.call(t,c)&&!x.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:u,type:e.type,key:i,ref:o,props:r,_owner:a}},n.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},n.createElement=I,n.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:h,render:e}},n.isValidElement=P,n.lazy=function(e){return{$$typeof:v,_payload:{_status:-1,_result:e},_init:L}},n.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},n.useCallback=function(e,t){return M().useCallback(e,t)},n.useContext=function(e,t){return M().useContext(e,t)},n.useDebugValue=function(){},n.useEffect=function(e,t){return M().useEffect(e,t)},n.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},n.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},n.useMemo=function(e,t){return M().useMemo(e,t)},n.useReducer=function(e,t,n){return M().useReducer(e,t,n)},n.useRef=function(e){return M().useRef(e)},n.useState=function(e){return M().useState(e)},n.version="17.0.2",t.exports=n;var z=t.exports,q={exports:{}},U={},j={exports:{}},W={};
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,u=null,c=function(){if(null!==s)try{var t=e.unstable_now();s(!0,t),s=null}catch(n){throw setTimeout(c,0),n}};t=function(e){null!==s?setTimeout(t,0,e):(s=e,setTimeout(c,0))},n=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,y=-1,m=5,g=0;e.unstable_shouldYield=function(){return e.unstable_now()>=g},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,b=_.port2;_.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();g=t+m;try{v(!0,t)?b.postMessage(null):(p=!1,v=null)}catch(n){throw b.postMessage(null),n}}else p=!1},t=function(e){v=e,p||(p=!0,b.postMessage(null))},n=function(t,n){y=f((function(){t(e.unstable_now())}),n)},r=function(){d(y),y=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],l=o+1,s=e[l];if(void 0!==a&&0>S(a,n))void 0!==s&&0>S(s,a)?(e[r]=s,e[l]=n,r=l):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[l]=n,r=l}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],x=1,I=null,P=3,N=!1,R=!1,O=!1;function D(e){for(var t=C(T);null!==t;){if(null===t.callback)k(T);else{if(!(t.startTime<=e))break;k(T),t.sortIndex=t.expirationTime,w(E,t)}t=C(T)}}function L(e){if(O=!1,D(e),!R)if(null!==C(E))R=!0,t(A);else{var r=C(T);null!==r&&n(L,r.startTime-e)}}function A(t,i){R=!1,O&&(O=!1,r()),N=!0;var o=P;try{for(D(i),I=C(E);null!==I&&(!(I.expirationTime>i)||t&&!e.unstable_shouldYield());){var a=I.callback;if("function"==typeof a){I.callback=null,P=I.priorityLevel;var l=a(I.expirationTime<=i);i=e.unstable_now(),"function"==typeof l?I.callback=l:I===C(E)&&k(E),D(i)}else k(E);I=C(E)}if(null!==I)var s=!0;else{var u=C(T);null!==u&&n(L,u.startTime-i),s=!1}return s}finally{I=null,P=o,N=!1}}var M=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){R||N||(R=!0,t(A))},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return C(E)},e.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},e.unstable_scheduleCallback=function(i,o,a){var l=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?l+a:l:a=l,i){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return i={id:x++,callback:o,priorityLevel:i,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>l?(i.sortIndex=a,w(T,i),null===C(E)&&i===C(T)&&(O?r():O=!0,n(L,a-l))):(i.sortIndex=s,w(E,i),R||N||(R=!0,t(A))),i},e.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}}(W),j.exports=W;
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var B=t.exports,V=l,H=j.exports;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!B)throw Error(Q(227));var $=new Set,Y={};function K(e,t){G(e,t),G(e+"Capture",t)}function G(e,t){for(Y[e]=t,e=0;e<t.length;e++)$.add(t[e])}var J=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z=Object.prototype.hasOwnProperty,ee={},te={};function ne(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){re[e]=new ne(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];re[t]=new ne(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){re[e]=new ne(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){re[e]=new ne(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){re[e]=new ne(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){re[e]=new ne(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){re[e]=new ne(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){re[e]=new ne(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){re[e]=new ne(e,5,!1,e.toLowerCase(),null,!1,!1)}));var ie=/[\-:]([a-z])/g;function oe(e){return e[1].toUpperCase()}function ae(e,t,n,r){var i=re.hasOwnProperty(t)?re[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Z.call(te,e)||!Z.call(ee,e)&&(X.test(e)?te[e]=!0:(ee[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(ie,oe);re[t]=new ne(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(ie,oe);re[t]=new ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(ie,oe);re[t]=new ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){re[e]=new ne(e,1,!1,e.toLowerCase(),null,!1,!1)})),re.xlinkHref=new ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){re[e]=new ne(e,1,!1,e.toLowerCase(),null,!0,!0)}));var le=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=60103,ue=60106,ce=60107,fe=60108,de=60114,he=60109,pe=60110,ve=60112,ye=60113,me=60120,ge=60115,_e=60116,be=60121,we=60128,Ce=60129,ke=60130,Se=60131;if("function"==typeof Symbol&&Symbol.for){var Ee=Symbol.for;se=Ee("react.element"),ue=Ee("react.portal"),ce=Ee("react.fragment"),fe=Ee("react.strict_mode"),de=Ee("react.profiler"),he=Ee("react.provider"),pe=Ee("react.context"),ve=Ee("react.forward_ref"),ye=Ee("react.suspense"),me=Ee("react.suspense_list"),ge=Ee("react.memo"),_e=Ee("react.lazy"),be=Ee("react.block"),Ee("react.scope"),we=Ee("react.opaque.id"),Ce=Ee("react.debug_trace_mode"),ke=Ee("react.offscreen"),Se=Ee("react.legacy_hidden")}var Te,xe="function"==typeof Symbol&&Symbol.iterator;function Ie(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=xe&&e[xe]||e["@@iterator"])?e:null}function Pe(e){if(void 0===Te)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Te=t&&t[1]||""}return"\n"+Te+e}var Ne=!1;function Re(e,t){if(!e||Ne)return"";Ne=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"==typeof s.stack){for(var i=s.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(1!==a||1!==l)do{if(a--,0>--l||i[a]!==o[l])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=l);break}}}finally{Ne=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pe(e):""}function Oe(e){switch(e.tag){case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 2:case 15:return e=Re(e.type,!1);case 11:return e=Re(e.type.render,!1);case 22:return e=Re(e.type._render,!1);case 1:return e=Re(e.type,!0);default:return""}}function De(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ce:return"Fragment";case ue:return"Portal";case de:return"Profiler";case fe:return"StrictMode";case ye:return"Suspense";case me:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case pe:return(e.displayName||"Context")+".Consumer";case he:return(e._context.displayName||"Context")+".Provider";case ve:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ge:return De(e.type);case be:return De(e._render);case _e:t=e._payload,e=e._init;try{return De(e(t))}catch(n){}}return null}function Le(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ae(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Me(e){e._valueTracker||(e._valueTracker=function(e){var t=Ae(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Fe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ae(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ze(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function qe(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ue(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Le(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function je(e,t){null!=(t=t.checked)&&ae(e,"checked",t,!1)}function We(e,t){je(e,t);var n=Le(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ve(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ve(e,t.type,Le(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Be(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ve(e,t,n){"number"===t&&ze(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function He(e,t){return e=V({children:void 0},t),(t=function(e){var t="";return B.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Qe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Le(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function $e(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(Q(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ye(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(Q(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Q(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Le(n)}}function Ke(e,t){var n=Le(t.value),r=Le(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ge(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Je="http://www.w3.org/1999/xhtml",Xe="http://www.w3.org/2000/svg";function Ze(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ze(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tt,nt,rt=(nt=function(e,t){if(e.namespaceURI!==Xe||"innerHTML"in e)e.innerHTML=t;else{for((tt=tt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return nt(e,t)}))}:nt);function it(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ot={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},at=["Webkit","ms","Moz","O"];function lt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ot.hasOwnProperty(e)&&ot[e]?(""+t).trim():t+"px"}function st(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=lt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ot).forEach((function(e){at.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ot[t]=ot[e]}))}));var ut=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(e,t){if(t){if(ut[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(Q(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(Q(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(Q(62))}}function ft(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ht=null,pt=null,vt=null;function yt(e){if(e=Ui(e)){if("function"!=typeof ht)throw Error(Q(280));var t=e.stateNode;t&&(t=Wi(t),ht(e.stateNode,e.type,t))}}function mt(e){pt?vt?vt.push(e):vt=[e]:pt=e}function gt(){if(pt){var e=pt,t=vt;if(vt=pt=null,yt(e),t)for(e=0;e<t.length;e++)yt(t[e])}}function _t(e,t){return e(t)}function bt(e,t,n,r,i){return e(t,n,r,i)}function wt(){}var Ct=_t,kt=!1,St=!1;function Et(){null===pt&&null===vt||(wt(),gt())}function Tt(e,t){var n=e.stateNode;if(null===n)return null;var r=Wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(Q(231,t,typeof n));return n}var xt=!1;if(J)try{var It={};Object.defineProperty(It,"passive",{get:function(){xt=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(nt){xt=!1}function Pt(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Nt=!1,Rt=null,Ot=!1,Dt=null,Lt={onError:function(e){Nt=!0,Rt=e}};function At(e,t,n,r,i,o,a,l,s){Nt=!1,Rt=null,Pt.apply(Lt,arguments)}function Mt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ft(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function zt(e){if(Mt(e)!==e)throw Error(Q(188))}function qt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Mt(e)))throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return zt(i),e;if(o===r)return zt(i),t;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(3!==n.tag)throw Error(Q(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ut(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var jt,Wt,Bt,Vt,Ht=!1,Qt=[],$t=null,Yt=null,Kt=null,Gt=new Map,Jt=new Map,Xt=[],Zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function en(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function tn(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Gt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jt.delete(t.pointerId)}}function nn(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=en(t,n,r,i,o),null!==t&&(null!==(t=Ui(t))&&Wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function rn(e){var t=qi(e.target);if(null!==t){var n=Mt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ft(n)))return e.blockedOn=t,void Vt(e.lanePriority,(function(){H.unstable_runWithPriority(e.priority,(function(){Bt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function on(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ui(n))&&Wt(t),e.blockedOn=n,!1;t.shift()}return!0}function an(e,t,n){on(e)&&n.delete(t)}function ln(){for(Ht=!1;0<Qt.length;){var e=Qt[0];if(null!==e.blockedOn){null!==(e=Ui(e.blockedOn))&&jt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Qt.shift()}null!==$t&&on($t)&&($t=null),null!==Yt&&on(Yt)&&(Yt=null),null!==Kt&&on(Kt)&&(Kt=null),Gt.forEach(an),Jt.forEach(an)}function sn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ht||(Ht=!0,H.unstable_scheduleCallback(H.unstable_NormalPriority,ln)))}function un(e){function t(t){return sn(t,e)}if(0<Qt.length){sn(Qt[0],e);for(var n=1;n<Qt.length;n++){var r=Qt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==$t&&sn($t,e),null!==Yt&&sn(Yt,e),null!==Kt&&sn(Kt,e),Gt.forEach(t),Jt.forEach(t),n=0;n<Xt.length;n++)(r=Xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&null===(n=Xt[0]).blockedOn;)rn(n),null===n.blockedOn&&Xt.shift()}function cn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fn={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionend:cn("Transition","TransitionEnd")},dn={},hn={};function pn(e){if(dn[e])return dn[e];if(!fn[e])return e;var t,n=fn[e];for(t in n)if(n.hasOwnProperty(t)&&t in hn)return dn[e]=n[t];return e}J&&(hn=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);var vn=pn("animationend"),yn=pn("animationiteration"),mn=pn("animationstart"),gn=pn("transitionend"),_n=new Map,bn=new Map,wn=["abort","abort",vn,"animationEnd",yn,"animationIteration",mn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",gn,"transitionEnd","waiting","waiting"];function Cn(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bn.set(r,t),_n.set(r,i),K(i,[r])}}(0,H.unstable_now)();var kn=8;function Sn(e){if(0!=(1&e))return kn=15,1;if(0!=(2&e))return kn=14,2;if(0!=(4&e))return kn=13,4;var t=24&e;return 0!==t?(kn=12,t):0!=(32&e)?(kn=11,32):0!==(t=192&e)?(kn=10,t):0!=(256&e)?(kn=9,256):0!==(t=3584&e)?(kn=8,t):0!=(4096&e)?(kn=7,4096):0!==(t=4186112&e)?(kn=6,t):0!==(t=62914560&e)?(kn=5,t):67108864&e?(kn=4,67108864):0!=(134217728&e)?(kn=3,134217728):0!==(t=805306368&e)?(kn=2,t):0!=(1073741824&e)?(kn=1,1073741824):(kn=8,e)}function En(e,t){var n=e.pendingLanes;if(0===n)return kn=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,l=e.pingedLanes;if(0!==o)r=o,i=kn=15;else if(0!==(o=134217727&n)){var s=o&~a;0!==s?(r=Sn(s),i=kn):0!==(l&=o)&&(r=Sn(l),i=kn)}else 0!==(o=n&~a)?(r=Sn(o),i=kn):0!==l&&(r=Sn(l),i=kn);if(0===r)return 0;if(r=n&((0>(r=31-Rn(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Sn(t),i<=kn)return t;kn=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Rn(t)),r|=e[n],t&=~i;return r}function Tn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xn(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=In(24&~t))?xn(10,t):e;case 10:return 0===(e=In(192&~t))?xn(8,t):e;case 8:return 0===(e=In(3584&~t))&&(0===(e=In(4186112&~t))&&(e=512)),e;case 2:return 0===(t=In(805306368&~t))&&(t=268435456),t}throw Error(Q(358,e))}function In(e){return e&-e}function Pn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nn(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Rn(t)]=n}var Rn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(On(e)/Dn|0)|0},On=Math.log,Dn=Math.LN2;var Ln=H.unstable_UserBlockingPriority,An=H.unstable_runWithPriority,Mn=!0;function Fn(e,t,n,r){kt||wt();var i=qn,o=kt;kt=!0;try{bt(i,e,t,n,r)}finally{(kt=o)||Et()}}function zn(e,t,n,r){An(Ln,qn.bind(null,e,t,n,r))}function qn(e,t,n,r){var i;if(Mn)if((i=0==(4&t))&&0<Qt.length&&-1<Zt.indexOf(e))e=en(null,e,t,n,r),Qt.push(e);else{var o=Un(e,t,n,r);if(null===o)i&&tn(e,r);else{if(i){if(-1<Zt.indexOf(e))return e=en(o,e,t,n,r),void Qt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return $t=nn($t,e,t,n,r,i),!0;case"dragenter":return Yt=nn(Yt,e,t,n,r,i),!0;case"mouseover":return Kt=nn(Kt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Gt.set(o,nn(Gt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Jt.set(o,nn(Jt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;tn(e,r)}gi(e,t,r,null,n)}}}function Un(e,t,n,r){var i=dt(r);if(null!==(i=qi(i))){var o=Mt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ft(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return gi(e,t,r,i,n),null}var jn=null,Wn=null,Bn=null;function Vn(){if(Bn)return Bn;var e,t,n=Wn,r=n.length,i="value"in jn?jn.value:jn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function Hn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qn(){return!0}function $n(){return!1}function Yn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Qn:$n,this.isPropagationStopped=$n,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),t}var Kn,Gn,Jn,Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zn=Yn(Xn),er=V({},Xn,{view:0,detail:0}),tr=Yn(er),nr=V({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&"mousemove"===e.type?(Kn=e.screenX-Jn.screenX,Gn=e.screenY-Jn.screenY):Gn=Kn=0,Jn=e),Kn)},movementY:function(e){return"movementY"in e?e.movementY:Gn}}),rr=Yn(nr),ir=Yn(V({},nr,{dataTransfer:0})),or=Yn(V({},er,{relatedTarget:0})),ar=Yn(V({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0})),lr=Yn(V({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),sr=Yn(V({},Xn,{data:0})),ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fr[e])&&!!t[e]}function hr(){return dr}var pr=Yn(V({},er,{key:function(e){if(e.key){var t=ur[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Hn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return"keypress"===e.type?Hn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Hn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vr=Yn(V({},nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yr=Yn(V({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr})),mr=Yn(V({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0})),gr=Yn(V({},nr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_r=[9,13,27,32],br=J&&"CompositionEvent"in window,wr=null;J&&"documentMode"in document&&(wr=document.documentMode);var Cr=J&&"TextEvent"in window&&!wr,kr=J&&(!br||wr&&8<wr&&11>=wr),Sr=String.fromCharCode(32),Er=!1;function Tr(e,t){switch(e){case"keyup":return-1!==_r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ir=!1;var Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pr[e.type]:"textarea"===t}function Rr(e,t,n,r){mt(r),0<(t=bi(t,"onChange")).length&&(n=new Zn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Or=null,Dr=null;function Lr(e){di(e,0)}function Ar(e){if(Fe(ji(e)))return e}function Mr(e,t){if("change"===e)return t}var Fr=!1;if(J){var zr;if(J){var qr="oninput"in document;if(!qr){var Ur=document.createElement("div");Ur.setAttribute("oninput","return;"),qr="function"==typeof Ur.oninput}zr=qr}else zr=!1;Fr=zr&&(!document.documentMode||9<document.documentMode)}function jr(){Or&&(Or.detachEvent("onpropertychange",Wr),Dr=Or=null)}function Wr(e){if("value"===e.propertyName&&Ar(Dr)){var t=[];if(Rr(t,Dr,e,dt(e)),e=Lr,kt)e(t);else{kt=!0;try{_t(e,t)}finally{kt=!1,Et()}}}}function Br(e,t,n){"focusin"===e?(jr(),Dr=n,(Or=t).attachEvent("onpropertychange",Wr)):"focusout"===e&&jr()}function Vr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ar(Dr)}function Hr(e,t){if("click"===e)return Ar(t)}function Qr(e,t){if("input"===e||"change"===e)return Ar(t)}var $r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Yr=Object.prototype.hasOwnProperty;function Kr(e,t){if($r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Yr.call(t,n[r])||!$r(e[n[r]],t[n[r]]))return!1;return!0}function Gr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jr(e,t){var n,r=Gr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gr(r)}}function Xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(){for(var e=window,t=ze();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ze((e=t.contentWindow).document)}return t}function ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ti=J&&"documentMode"in document&&11>=document.documentMode,ni=null,ri=null,ii=null,oi=!1;function ai(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;oi||null==ni||ni!==ze(r)||("selectionStart"in(r=ni)&&ei(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ii&&Kr(ii,r)||(ii=r,0<(r=bi(ri,"onSelect")).length&&(t=new Zn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ni)))}Cn("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Cn("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Cn(wn,2);for(var li="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),si=0;si<li.length;si++)bn.set(li[si],0);G("onMouseEnter",["mouseout","mouseover"]),G("onMouseLeave",["mouseout","mouseover"]),G("onPointerEnter",["pointerout","pointerover"]),G("onPointerLeave",["pointerout","pointerover"]),K("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),K("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),K("onBeforeInput",["compositionend","keypress","textInput","paste"]),K("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),K("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),K("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ci=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function fi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,s){if(At.apply(this,arguments),Nt){if(!Nt)throw Error(Q(198));var u=Rt;Nt=!1,Rt=null,Ot||(Ot=!0,Dt=u)}}(r,t,void 0,e),e.currentTarget=null}function di(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;fi(i,l,u),o=s}else for(a=0;a<r.length;a++){if(s=(l=r[a]).instance,u=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;fi(i,l,u),o=s}}}if(Ot)throw e=Dt,Ot=!1,Dt=null,e}function hi(e,t){var n=Bi(t),r=e+"__bubble";n.has(r)||(mi(t,e,2,!1),n.add(r))}var pi="_reactListening"+Math.random().toString(36).slice(2);function vi(e){e[pi]||(e[pi]=!0,$.forEach((function(t){ci.has(t)||yi(t,!1,e,null),yi(t,!0,e,null)})))}function yi(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&ci.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=Bi(o),l=e+"__"+(t?"capture":"bubble");a.has(l)||(t&&(i|=4),mi(o,e,i,t),a.add(l))}function mi(e,t,n,r){var i=bn.get(t);switch(void 0===i?2:i){case 0:i=Fn;break;case 1:i=zn;break;default:i=qn}n=i.bind(null,t,n,e),i=void 0,!xt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function gi(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==l;){if(null===(a=qi(l)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}l=l.parentNode}}r=r.return}!function(e,t,n){if(St)return e(t,n);St=!0;try{Ct(e,t,n)}finally{St=!1,Et()}}((function(){var r=o,i=dt(n),a=[];e:{var l=_n.get(e);if(void 0!==l){var s=Zn,u=e;switch(e){case"keypress":if(0===Hn(n))break e;case"keydown":case"keyup":s=pr;break;case"focusin":u="focus",s=or;break;case"focusout":u="blur",s=or;break;case"beforeblur":case"afterblur":s=or;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=yr;break;case vn:case yn:case mn:s=ar;break;case gn:s=mr;break;case"scroll":s=tr;break;case"wheel":s=gr;break;case"copy":case"cut":case"paste":s=lr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=vr}var c=0!=(4&t),f=!c&&"scroll"===e,d=c?null!==l?l+"Capture":null:l;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Tt(p,d))&&c.push(_i(p,v,h)))),f)break;p=p.return}0<c.length&&(l=new s(l,u,null,n,i),a.push({event:l,listeners:c}))}}if(0==(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!qi(u)&&!u[Fi])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?qi(u):null)&&(u!==(f=Mt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=rr,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=vr,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?l:ji(s),h=null==u?l:ji(u),(l=new c(v,p+"leave",s,n,i)).target=f,l.relatedTarget=h,v=null,qi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=h,c.relatedTarget=f,v=c),f=v,s&&u)e:{for(d=u,p=0,h=c=s;h;h=wi(h))p++;for(h=0,v=d;v;v=wi(v))h++;for(;0<p-h;)c=wi(c),p--;for(;0<h-p;)d=wi(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=wi(c),d=wi(d)}c=null}else c=null;null!==s&&Ci(a,l,s,c,!1),null!==u&&null!==f&&Ci(a,f,u,c,!0)}if("select"===(s=(l=r?ji(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var y=Mr;else if(Nr(l))if(Fr)y=Qr;else{y=Vr;var m=Br}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(y=Hr);switch(y&&(y=y(e,r))?Rr(a,y,n,i):(m&&m(e,l,r),"focusout"===e&&(m=l._wrapperState)&&m.controlled&&"number"===l.type&&Ve(l,"number",l.value)),m=r?ji(r):window,e){case"focusin":(Nr(m)||"true"===m.contentEditable)&&(ni=m,ri=r,ii=null);break;case"focusout":ii=ri=ni=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":oi=!1,ai(a,n,i);break;case"selectionchange":if(ti)break;case"keydown":case"keyup":ai(a,n,i)}var g;if(br)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ir?Tr(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(kr&&"ko"!==n.locale&&(Ir||"onCompositionStart"!==_?"onCompositionEnd"===_&&Ir&&(g=Vn()):(Wn="value"in(jn=i)?jn.value:jn.textContent,Ir=!0)),0<(m=bi(r,_)).length&&(_=new sr(_,e,null,n,i),a.push({event:_,listeners:m}),g?_.data=g:null!==(g=xr(n))&&(_.data=g))),(g=Cr?function(e,t){switch(e){case"compositionend":return xr(t);case"keypress":return 32!==t.which?null:(Er=!0,Sr);case"textInput":return(e=t.data)===Sr&&Er?null:e;default:return null}}(e,n):function(e,t){if(Ir)return"compositionend"===e||!br&&Tr(e,t)?(e=Vn(),Bn=Wn=jn=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=bi(r,"onBeforeInput")).length&&(i=new sr("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}di(a,t)}))}function _i(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Tt(e,n))&&r.unshift(_i(e,o,i)),null!=(o=Tt(e,t))&&r.push(_i(e,o,i))),e=e.return}return r}function wi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ci(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(s=Tt(n,o))&&a.unshift(_i(n,s,l)):i||null!=(s=Tt(n,o))&&a.push(_i(n,s,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function ki(){}var Si=null,Ei=null;function Ti(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ii="function"==typeof setTimeout?setTimeout:void 0,Pi="function"==typeof clearTimeout?clearTimeout:void 0;function Ni(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Ri(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Di=0;var Li=Math.random().toString(36).slice(2),Ai="__reactFiber$"+Li,Mi="__reactProps$"+Li,Fi="__reactContainer$"+Li,zi="__reactEvents$"+Li;function qi(e){var t=e[Ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fi]||n[Ai]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Oi(e);null!==e;){if(n=e[Ai])return n;e=Oi(e)}return t}n=(e=n).parentNode}return null}function Ui(e){return!(e=e[Ai]||e[Fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ji(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(Q(33))}function Wi(e){return e[Mi]||null}function Bi(e){var t=e[zi];return void 0===t&&(t=e[zi]=new Set),t}var Vi=[],Hi=-1;function Qi(e){return{current:e}}function $i(e){0>Hi||(e.current=Vi[Hi],Vi[Hi]=null,Hi--)}function Yi(e,t){Hi++,Vi[Hi]=e.current,e.current=t}var Ki={},Gi=Qi(Ki),Ji=Qi(!1),Xi=Ki;function Zi(e,t){var n=e.type.contextTypes;if(!n)return Ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function eo(e){return null!=(e=e.childContextTypes)}function to(){$i(Ji),$i(Gi)}function no(e,t,n){if(Gi.current!==Ki)throw Error(Q(168));Yi(Gi,t),Yi(Ji,n)}function ro(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(Q(108,De(t)||"Unknown",i));return V({},n,r)}function io(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ki,Xi=Gi.current,Yi(Gi,e),Yi(Ji,Ji.current),!0}function oo(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=ro(e,t,Xi),r.__reactInternalMemoizedMergedChildContext=e,$i(Ji),$i(Gi),Yi(Gi,e)):$i(Ji),Yi(Ji,n)}var ao=null,lo=null,so=H.unstable_runWithPriority,uo=H.unstable_scheduleCallback,co=H.unstable_cancelCallback,fo=H.unstable_shouldYield,ho=H.unstable_requestPaint,po=H.unstable_now,vo=H.unstable_getCurrentPriorityLevel,yo=H.unstable_ImmediatePriority,mo=H.unstable_UserBlockingPriority,go=H.unstable_NormalPriority,_o=H.unstable_LowPriority,bo=H.unstable_IdlePriority,wo={},Co=void 0!==ho?ho:function(){},ko=null,So=null,Eo=!1,To=po(),xo=1e4>To?po:function(){return po()-To};function Io(){switch(vo()){case yo:return 99;case mo:return 98;case go:return 97;case _o:return 96;case bo:return 95;default:throw Error(Q(332))}}function Po(e){switch(e){case 99:return yo;case 98:return mo;case 97:return go;case 96:return _o;case 95:return bo;default:throw Error(Q(332))}}function No(e,t){return e=Po(e),so(e,t)}function Ro(e,t,n){return e=Po(e),uo(e,t,n)}function Oo(){if(null!==So){var e=So;So=null,co(e)}Do()}function Do(){if(!Eo&&null!==ko){Eo=!0;var e=0;try{var t=ko;No(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ko=null}catch(n){throw null!==ko&&(ko=ko.slice(e+1)),uo(yo,Oo),n}finally{Eo=!1}}}var Lo=le.ReactCurrentBatchConfig;function Ao(e,t){if(e&&e.defaultProps){for(var n in t=V({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Mo=Qi(null),Fo=null,zo=null,qo=null;function Uo(){qo=zo=Fo=null}function jo(e){var t=Mo.current;$i(Mo),e.type._context._currentValue=t}function Wo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Bo(e,t){Fo=e,qo=zo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Vo(e,t){if(qo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(qo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===zo){if(null===Fo)throw Error(Q(308));zo=t,Fo.dependencies={lanes:0,firstContext:t,responders:null}}else zo=zo.next=t;return e._currentValue}var Ho=!1;function Qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function $o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ko(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Go(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jo(e,t,n,r){var i=e.updateQueue;Ho=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,u=s.next;s.next=null,null===a?o=u:a.next=u,a=s;var c=e.alternate;if(null!==c){var f=(c=c.updateQueue).lastBaseUpdate;f!==a&&(null===f?c.firstBaseUpdate=u:f.next=u,c.lastBaseUpdate=s)}}if(null!==o){for(f=i.baseState,a=0,c=u=s=null;;){l=o.lane;var d=o.eventTime;if((r&l)===l){null!==c&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,p=o;switch(l=t,d=n,p.tag){case 1:if("function"==typeof(h=p.payload)){f=h.call(d,f,l);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(l="function"==typeof(h=p.payload)?h.call(d,f,l):h))break e;f=V({},f,l);break e;case 2:Ho=!0}}null!==o.callback&&(e.flags|=32,null===(l=i.effects)?i.effects=[o]:l.push(o))}else d={eventTime:d,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=d,s=f):c=c.next=d,a|=l;if(null===(o=o.next)){if(null===(l=i.shared.pending))break;o=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=c,Ss|=a,e.lanes=a,e.memoizedState=f}}function Xo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(Q(191,i));i.call(r)}}}var Zo=(new B.Component).refs;function ea(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:V({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ta={isMounted:function(e){return!!(e=e._reactInternals)&&Mt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ks(),i=Gs(e),o=Yo(r,i);o.payload=t,null!=n&&(o.callback=n),Ko(e,o),Js(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ks(),i=Gs(e),o=Yo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),Ko(e,o),Js(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ks(),r=Gs(e),i=Yo(n,r);i.tag=2,null!=t&&(i.callback=t),Ko(e,i),Js(e,r,n)}};function na(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Kr(n,r)||!Kr(i,o))}function ra(e,t,n){var r=!1,i=Ki,o=t.contextType;return"object"==typeof o&&null!==o?o=Vo(o):(i=eo(t)?Xi:Gi.current,o=(r=null!=(r=t.contextTypes))?Zi(e,i):Ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ta,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ia(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ta.enqueueReplaceState(t,t.state,null)}function oa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Zo,Qo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Vo(o):(o=eo(t)?Xi:Gi.current,i.context=Zi(e,o)),Jo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ea(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ta.enqueueReplaceState(i,i.state,null),Jo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var aa=Array.isArray;function la(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Zo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function sa(e,t){if("textarea"!==e.type)throw Error(Q(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ua(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Du(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=la(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=la(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,o){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case se:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=la(e,null,t),n.return=e,n;case ue:return(t=Lu(t,e.mode,n)).return=e,t}if(aa(t)||Ie(t))return(t=Ru(t,e.mode,n,null)).return=e,t;sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case se:return n.key===i?n.type===ce?c(e,t,n.props.children,r,i):s(e,t,n,r):null;case ue:return n.key===i?u(e,t,n,r):null}if(aa(n)||Ie(n))return null!==i?null:c(e,t,n,r,null);sa(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case se:return e=e.get(null===r.key?n:r.key)||null,r.type===ce?c(t,e,r.props.children,i,r.key):s(t,e,r,i);case ue:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(aa(r)||Ie(r))return c(t,e=e.get(n)||null,r,i,null);sa(t,r)}return null}return function(l,s,u,c){var p="object"==typeof u&&null!==u&&u.type===ce&&null===u.key;p&&(u=u.props.children);var v="object"==typeof u&&null!==u;if(v)switch(u.$$typeof){case se:e:{for(v=u.key,p=s;null!==p;){if(p.key===v){switch(p.tag){case 7:if(u.type===ce){n(l,p.sibling),(s=i(p,u.props.children)).return=l,l=s;break e}break;default:if(p.elementType===u.type){n(l,p.sibling),(s=i(p,u.props)).ref=la(l,p,u),s.return=l,l=s;break e}}n(l,p);break}t(l,p),p=p.sibling}u.type===ce?((s=Ru(u.props.children,l.mode,c,u.key)).return=l,l=s):((c=Nu(u.type,u.key,u.props,null,l.mode,c)).ref=la(l,s,u),c.return=l,l=c)}return a(l);case ue:e:{for(p=u.key;null!==s;){if(s.key===p){if(4===s.tag&&s.stateNode.containerInfo===u.containerInfo&&s.stateNode.implementation===u.implementation){n(l,s.sibling),(s=i(s,u.children||[])).return=l,l=s;break e}n(l,s);break}t(l,s),s=s.sibling}(s=Lu(u,l.mode,c)).return=l,l=s}return a(l)}if("string"==typeof u||"number"==typeof u)return u=""+u,null!==s&&6===s.tag?(n(l,s.sibling),(s=i(s,u)).return=l,l=s):(n(l,s),(s=Du(u,l.mode,c)).return=l,l=s),a(l);if(aa(u))return function(i,a,l,s){for(var u=null,c=null,p=a,v=a=0,y=null;null!==p&&v<l.length;v++){p.index>v?(y=p,p=null):y=p.sibling;var m=d(i,p,l[v],s);if(null===m){null===p&&(p=y);break}e&&p&&null===m.alternate&&t(i,p),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m,p=y}if(v===l.length)return n(i,p),u;if(null===p){for(;v<l.length;v++)null!==(p=f(i,l[v],s))&&(a=o(p,a,v),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);v<l.length;v++)null!==(y=h(p,i,v,l[v],s))&&(e&&null!==y.alternate&&p.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),u}(l,s,u,c);if(Ie(u))return function(i,a,l,s){var u=Ie(l);if("function"!=typeof u)throw Error(Q(150));if(null==(l=u.call(l)))throw Error(Q(151));for(var c=u=null,p=a,v=a=0,y=null,m=l.next();null!==p&&!m.done;v++,m=l.next()){p.index>v?(y=p,p=null):y=p.sibling;var g=d(i,p,m.value,s);if(null===g){null===p&&(p=y);break}e&&p&&null===g.alternate&&t(i,p),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g,p=y}if(m.done)return n(i,p),u;if(null===p){for(;!m.done;v++,m=l.next())null!==(m=f(i,m.value,s))&&(a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return u}for(p=r(i,p);!m.done;v++,m=l.next())null!==(m=h(p,i,v,m.value,s))&&(e&&null!==m.alternate&&p.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&p.forEach((function(e){return t(i,e)})),u}(l,s,u,c);if(v&&sa(l,u),void 0===u&&!p)switch(l.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Q(152,De(l.type)||"Component"))}return n(l,s)}}var ca=ua(!0),fa=ua(!1),da={},ha=Qi(da),pa=Qi(da),va=Qi(da);function ya(e){if(e===da)throw Error(Q(174));return e}function ma(e,t){switch(Yi(va,t),Yi(pa,e),Yi(ha,da),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:et(null,"");break;default:t=et(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}$i(ha),Yi(ha,t)}function ga(){$i(ha),$i(pa),$i(va)}function _a(e){ya(va.current);var t=ya(ha.current),n=et(t,e.type);t!==n&&(Yi(pa,e),Yi(ha,n))}function ba(e){pa.current===e&&($i(ha),$i(pa))}var wa=Qi(0);function Ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=null,Sa=null,Ea=!1;function Ta(e,t){var n=xu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function xa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ia(e){if(Ea){var t=Sa;if(t){var n=t;if(!xa(e,t)){if(!(t=Ri(n.nextSibling))||!xa(e,t))return e.flags=-1025&e.flags|2,Ea=!1,void(ka=e);Ta(ka,n)}ka=e,Sa=Ri(t.firstChild)}else e.flags=-1025&e.flags|2,Ea=!1,ka=e}}function Pa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ka=e}function Na(e){if(e!==ka)return!1;if(!Ea)return Pa(e),Ea=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xi(t,e.memoizedProps))for(t=Sa;t;)Ta(e,t),t=Ri(t.nextSibling);if(Pa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Sa=Ri(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Sa=null}}else Sa=ka?Ri(e.stateNode.nextSibling):null;return!0}function Ra(){Sa=ka=null,Ea=!1}var Oa=[];function Da(){for(var e=0;e<Oa.length;e++)Oa[e]._workInProgressVersionPrimary=null;Oa.length=0}var La=le.ReactCurrentDispatcher,Aa=le.ReactCurrentBatchConfig,Ma=0,Fa=null,za=null,qa=null,Ua=!1,ja=!1;function Wa(){throw Error(Q(321))}function Ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$r(e[n],t[n]))return!1;return!0}function Va(e,t,n,r,i,o){if(Ma=o,Fa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,La.current=null===e||null===e.memoizedState?yl:ml,e=n(r,i),ja){o=0;do{if(ja=!1,!(25>o))throw Error(Q(301));o+=1,qa=za=null,t.updateQueue=null,La.current=gl,e=n(r,i)}while(ja)}if(La.current=vl,t=null!==za&&null!==za.next,Ma=0,qa=za=Fa=null,Ua=!1,t)throw Error(Q(300));return e}function Ha(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qa?Fa.memoizedState=qa=e:qa=qa.next=e,qa}function Qa(){if(null===za){var e=Fa.alternate;e=null!==e?e.memoizedState:null}else e=za.next;var t=null===qa?Fa.memoizedState:qa.next;if(null!==t)qa=t,za=e;else{if(null===e)throw Error(Q(310));e={memoizedState:(za=e).memoizedState,baseState:za.baseState,baseQueue:za.baseQueue,queue:za.queue,next:null},null===qa?Fa.memoizedState=qa=e:qa=qa.next=e}return qa}function $a(e,t){return"function"==typeof t?t(e):t}function Ya(e){var t=Qa(),n=t.queue;if(null===n)throw Error(Q(311));n.lastRenderedReducer=e;var r=za,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,s=i;do{var u=s.lane;if((Ma&u)===u)null!==l&&(l=l.next={lane:0,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),r=s.eagerReducer===e?s.eagerState:e(r,s.action);else{var c={lane:u,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===l?(a=l=c,o=r):l=l.next=c,Fa.lanes|=u,Ss|=u}s=s.next}while(null!==s&&s!==i);null===l?o=r:l.next=a,$r(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Ka(e){var t=Qa(),n=t.queue;if(null===n)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);$r(o,t.memoizedState)||(bl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ga(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ma&e)===e)&&(t._workInProgressVersionPrimary=r,Oa.push(t))),e)return n(t._source);throw Oa.push(t),Error(Q(350))}function Ja(e,t,n,r){var i=ys;if(null===i)throw Error(Q(349));var o=t._getVersion,a=o(t._source),l=La.current,s=l.useState((function(){return Ga(i,t,n)})),u=s[1],c=s[0];s=qa;var f=e.memoizedState,d=f.refs,h=d.getSnapshot,p=f.source;f=f.subscribe;var v=Fa;return e.memoizedState={refs:d,source:t,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=u;var e=o(t._source);if(!$r(a,e)){e=n(t._source),$r(c,e)||(u(e),e=Gs(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,l=e;0<l;){var s=31-Rn(l),f=1<<s;r[s]|=e,l&=~f}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=Gs(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),$r(h,n)&&$r(p,t)&&$r(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:$a,lastRenderedState:c}).dispatch=u=pl.bind(null,Fa,e),s.queue=e,s.baseQueue=null,c=Ga(i,t,n),s.memoizedState=s.baseState=c),c}function Xa(e,t,n){return Ja(Qa(),e,t,n)}function Za(e){var t=Ha();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$a,lastRenderedState:e}).dispatch=pl.bind(null,Fa,e),[t.memoizedState,e]}function el(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Fa.updateQueue)?(t={lastEffect:null},Fa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function tl(e){return e={current:e},Ha().memoizedState=e}function nl(){return Qa().memoizedState}function rl(e,t,n,r){var i=Ha();Fa.flags|=e,i.memoizedState=el(1|t,n,void 0,void 0===r?null:r)}function il(e,t,n,r){var i=Qa();r=void 0===r?null:r;var o=void 0;if(null!==za){var a=za.memoizedState;if(o=a.destroy,null!==r&&Ba(r,a.deps))return void el(t,n,o,r)}Fa.flags|=e,i.memoizedState=el(1|t,n,o,r)}function ol(e,t){return rl(516,4,e,t)}function al(e,t){return il(516,4,e,t)}function ll(e,t){return il(4,2,e,t)}function sl(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ul(e,t,n){return n=null!=n?n.concat([e]):null,il(4,2,sl.bind(null,t,e),n)}function cl(){}function fl(e,t){var n=Qa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dl(e,t){var n=Qa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hl(e,t){var n=Io();No(98>n?98:n,(function(){e(!0)})),No(97<n?97:n,(function(){var n=Aa.transition;Aa.transition=1;try{e(!1),t()}finally{Aa.transition=n}}))}function pl(e,t,n){var r=Ks(),i=Gs(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Fa||null!==a&&a===Fa)ja=Ua=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=a(l,n);if(o.eagerReducer=a,o.eagerState=s,$r(s,l))return}catch(u){}Js(e,i,r)}}var vl={readContext:Vo,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useDeferredValue:Wa,useTransition:Wa,useMutableSource:Wa,useOpaqueIdentifier:Wa,unstable_isNewReconciler:!1},yl={readContext:Vo,useCallback:function(e,t){return Ha().memoizedState=[e,void 0===t?null:t],e},useContext:Vo,useEffect:ol,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,rl(4,2,sl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rl(4,2,e,t)},useMemo:function(e,t){var n=Ha();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ha();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=pl.bind(null,Fa,e),[r.memoizedState,e]},useRef:tl,useState:Za,useDebugValue:cl,useDeferredValue:function(e){var t=Za(e),n=t[0],r=t[1];return ol((function(){var t=Aa.transition;Aa.transition=1;try{r(e)}finally{Aa.transition=t}}),[e]),n},useTransition:function(){var e=Za(!1),t=e[0];return tl(e=hl.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=Ha();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ja(r,e,t,n)},useOpaqueIdentifier:function(){if(Ea){var e=!1,t=function(e){return{$$typeof:we,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Di++).toString(36))),Error(Q(355))})),n=Za(t)[1];return 0==(2&Fa.mode)&&(Fa.flags|=516,el(5,(function(){n("r:"+(Di++).toString(36))}),void 0,null)),t}return Za(t="r:"+(Di++).toString(36)),t},unstable_isNewReconciler:!1},ml={readContext:Vo,useCallback:fl,useContext:Vo,useEffect:al,useImperativeHandle:ul,useLayoutEffect:ll,useMemo:dl,useReducer:Ya,useRef:nl,useState:function(){return Ya($a)},useDebugValue:cl,useDeferredValue:function(e){var t=Ya($a),n=t[0],r=t[1];return al((function(){var t=Aa.transition;Aa.transition=1;try{r(e)}finally{Aa.transition=t}}),[e]),n},useTransition:function(){var e=Ya($a)[0];return[nl().current,e]},useMutableSource:Xa,useOpaqueIdentifier:function(){return Ya($a)[0]},unstable_isNewReconciler:!1},gl={readContext:Vo,useCallback:fl,useContext:Vo,useEffect:al,useImperativeHandle:ul,useLayoutEffect:ll,useMemo:dl,useReducer:Ka,useRef:nl,useState:function(){return Ka($a)},useDebugValue:cl,useDeferredValue:function(e){var t=Ka($a),n=t[0],r=t[1];return al((function(){var t=Aa.transition;Aa.transition=1;try{r(e)}finally{Aa.transition=t}}),[e]),n},useTransition:function(){var e=Ka($a)[0];return[nl().current,e]},useMutableSource:Xa,useOpaqueIdentifier:function(){return Ka($a)[0]},unstable_isNewReconciler:!1},_l=le.ReactCurrentOwner,bl=!1;function wl(e,t,n,r){t.child=null===e?fa(t,null,n,r):ca(t,e.child,n,r)}function Cl(e,t,n,r,i){n=n.render;var o=t.ref;return Bo(t,i),r=Va(e,t,n,r,o,i),null===e||bl?(t.flags|=1,wl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Wl(e,t,i))}function kl(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Iu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Sl(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Kr)(i,r)&&e.ref===t.ref)?Wl(e,t,o):(t.flags|=1,(e=Pu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Sl(e,t,n,r,i,o){if(null!==e&&Kr(e.memoizedProps,r)&&e.ref===t.ref){if(bl=!1,0==(o&i))return t.lanes=e.lanes,Wl(e,t,o);0!=(16384&e.flags)&&(bl=!0)}return xl(e,t,n,r,o)}function El(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ou(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ou(t,e),null;t.memoizedState={baseLanes:0},ou(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ou(t,r);return wl(e,t,i,n),t.child}function Tl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function xl(e,t,n,r,i){var o=eo(n)?Xi:Gi.current;return o=Zi(t,o),Bo(t,i),n=Va(e,t,n,r,o,i),null===e||bl?(t.flags|=1,wl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Wl(e,t,i))}function Il(e,t,n,r,i){if(eo(n)){var o=!0;io(t)}else o=!1;if(Bo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ra(t,n,r),oa(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=Vo(u):u=Zi(t,u=eo(n)?Xi:Gi.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==u)&&ia(t,a,r,u),Ho=!1;var d=t.memoizedState;a.state=d,Jo(t,r,a,i),s=t.memoizedState,l!==r||d!==s||Ji.current||Ho?("function"==typeof c&&(ea(t,n,c,r),s=t.memoizedState),(l=Ho||na(t,n,l,r,d,s,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,$o(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ao(t.type,l),a.props=u,f=t.pendingProps,d=a.context,"object"==typeof(s=n.contextType)&&null!==s?s=Vo(s):s=Zi(t,s=eo(n)?Xi:Gi.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==f||d!==s)&&ia(t,a,r,s),Ho=!1,d=t.memoizedState,a.state=d,Jo(t,r,a,i);var p=t.memoizedState;l!==f||d!==p||Ji.current||Ho?("function"==typeof h&&(ea(t,n,h,r),p=t.memoizedState),(u=Ho||na(t,n,u,r,d,p,s))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=u):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Pl(e,t,n,r,o,i)}function Pl(e,t,n,r,i,o){Tl(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&oo(t,n,!1),Wl(e,t,o);r=t.stateNode,_l.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ca(t,e.child,null,o),t.child=ca(t,null,l,o)):wl(e,t,l,o),t.memoizedState=r.state,i&&oo(t,n,!0),t.child}function Nl(e){var t=e.stateNode;t.pendingContext?no(0,t.pendingContext,t.pendingContext!==t.context):t.context&&no(0,t.context,!1),ma(e,t.containerInfo)}var Rl,Ol,Dl,Ll={dehydrated:null,retryLane:0};function Al(e,t,n){var r,i=t.pendingProps,o=wa.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Yi(wa,1&o),null===e?(void 0!==i.fallback&&Ia(t),e=i.children,o=i.fallback,a?(e=Ml(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ll,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ml(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ll,t.lanes=33554432,e):((n=Ou({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=zl(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ll,i):(n=Fl(e,t,i.children,n),t.memoizedState=null,n))}function Ml(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ou(t,i,0,null),n=Ru(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Fl(e,t,n,r){var i=e.child;return e=i.sibling,n=Pu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function zl(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var l={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=l,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Pu(a,l),null!==e?r=Pu(e,r):(r=Ru(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ql(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Wo(e.return,t)}function Ul(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function jl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wl(e,t,r.children,n),0!=(2&(r=wa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ql(e,n);else if(19===e.tag)ql(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yi(wa,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ul(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ul(t,!0,n,null,o,t.lastEffect);break;case"together":Ul(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ss|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(Q(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Bl(e,t){if(!Ea)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vl(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return eo(t.type)&&to(),null;case 3:return ga(),$i(Ji),$i(Gi),Da(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Na(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ba(t);var i=ya(va.current);if(n=t.type,null!==e&&null!=t.stateNode)Ol(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(Q(166));return null}if(e=ya(ha.current),Na(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ai]=t,r[Mi]=o,n){case"dialog":hi("cancel",r),hi("close",r);break;case"iframe":case"object":case"embed":hi("load",r);break;case"video":case"audio":for(e=0;e<ui.length;e++)hi(ui[e],r);break;case"source":hi("error",r);break;case"img":case"image":case"link":hi("error",r),hi("load",r);break;case"details":hi("toggle",r);break;case"input":Ue(r,o),hi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},hi("invalid",r);break;case"textarea":Ye(r,o),hi("invalid",r)}for(var a in ct(n,o),e=null,o)o.hasOwnProperty(a)&&(i=o[a],"children"===a?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):Y.hasOwnProperty(a)&&null!=i&&"onScroll"===a&&hi("scroll",r));switch(n){case"input":Me(r),Be(r,o,!0);break;case"textarea":Me(r),Ge(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=ki)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,e===Je&&(e=Ze(n)),e===Je?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ai]=t,e[Mi]=r,Rl(e,t),t.stateNode=e,a=ft(n,r),n){case"dialog":hi("cancel",e),hi("close",e),i=r;break;case"iframe":case"object":case"embed":hi("load",e),i=r;break;case"video":case"audio":for(i=0;i<ui.length;i++)hi(ui[i],e);i=r;break;case"source":hi("error",e),i=r;break;case"img":case"image":case"link":hi("error",e),hi("load",e),i=r;break;case"details":hi("toggle",e),i=r;break;case"input":Ue(e,r),i=qe(e,r),hi("invalid",e);break;case"option":i=He(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=V({},r,{value:void 0}),hi("invalid",e);break;case"textarea":Ye(e,r),i=$e(e,r),hi("invalid",e);break;default:i=r}ct(n,i);var l=i;for(o in l)if(l.hasOwnProperty(o)){var s=l[o];"style"===o?st(e,s):"dangerouslySetInnerHTML"===o?null!=(s=s?s.__html:void 0)&&rt(e,s):"children"===o?"string"==typeof s?("textarea"!==n||""!==s)&&it(e,s):"number"==typeof s&&it(e,""+s):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Y.hasOwnProperty(o)?null!=s&&"onScroll"===o&&hi("scroll",e):null!=s&&ae(e,o,s,a))}switch(n){case"input":Me(e),Be(e,r,!1);break;case"textarea":Me(e),Ge(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Le(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?Qe(e,!!r.multiple,o,!1):null!=r.defaultValue&&Qe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=ki)}Ti(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Dl(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(Q(166));n=ya(va.current),ya(ha.current),Na(t)?(r=t.stateNode,n=t.memoizedProps,r[Ai]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Ai]=t,t.stateNode=r)}return null;case 13:return $i(wa),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Na(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&wa.current)?0===ws&&(ws=3):(0!==ws&&3!==ws||(ws=4),null===ys||0==(134217727&Ss)&&0==(134217727&Es)||tu(ys,gs))),(r||n)&&(t.flags|=4),null);case 4:return ga(),null===e&&vi(t.stateNode.containerInfo),null;case 10:return jo(t),null;case 17:return eo(t.type)&&to(),null;case 19:if($i(wa),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(a=r.rendering))if(o)Bl(r,!1);else{if(0!==ws||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=Ca(e))){for(t.flags|=64,Bl(r,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yi(wa,1&wa.current|2),t.child}e=e.sibling}null!==r.tail&&xo()>Ps&&(t.flags|=64,o=!0,Bl(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=Ca(a))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Bl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Ea)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*xo()-r.renderingStartTime>Ps&&1073741824!==n&&(t.flags|=64,o=!0,Bl(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=xo(),n.sibling=null,t=wa.current,Yi(wa,o?1&t|2:1&t),n):null;case 23:case 24:return au(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(Q(156,t.tag))}function Hl(e){switch(e.tag){case 1:eo(e.type)&&to();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ga(),$i(Ji),$i(Gi),Da(),0!=(64&(t=e.flags)))throw Error(Q(285));return e.flags=-4097&t|64,e;case 5:return ba(e),null;case 13:return $i(wa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return $i(wa),null;case 4:return ga(),null;case 10:return jo(e),null;case 23:case 24:return au(),null;default:return null}}function Ql(e,t){try{var n="",r=t;do{n+=Oe(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function $l(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Rl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ol=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ya(ha.current);var o,a=null;switch(n){case"input":i=qe(e,i),r=qe(e,r),a=[];break;case"option":i=He(e,i),r=He(e,r),a=[];break;case"select":i=V({},i,{value:void 0}),r=V({},r,{value:void 0}),a=[];break;case"textarea":i=$e(e,i),r=$e(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=ki)}for(u in ct(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(Y.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var s=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(null!=s||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&(n||(n={}),n[o]=s[o])}else n||(a||(a=[]),a.push(u,n)),n=s;else"dangerouslySetInnerHTML"===u?(s=s?s.__html:void 0,l=l?l.__html:void 0,null!=s&&l!==s&&(a=a||[]).push(u,s)):"children"===u?"string"!=typeof s&&"number"!=typeof s||(a=a||[]).push(u,""+s):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(Y.hasOwnProperty(u)?(null!=s&&"onScroll"===u&&hi("scroll",e),a||l===s||(a=[])):"object"==typeof s&&null!==s&&s.$$typeof===we?s.toString():(a=a||[]).push(u,s))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Dl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yl="function"==typeof WeakMap?WeakMap:Map;function Kl(e,t,n){(n=Yo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ds||(Ds=!0,Ls=r),$l(0,t)},n}function Gl(e,t,n){(n=Yo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return $l(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===As?As=new Set([this]):As.add(this),$l(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Jl="function"==typeof WeakSet?WeakSet:Set;function Xl(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){ku(e,n)}else t.current=null}function Zl(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ao(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ni(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(Q(163))}function es(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(bu(n,e),_u(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ao(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Xo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Xo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ti(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&un(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Q(163))}function ts(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=lt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ns(e,t){if(lo&&"function"==typeof lo.onCommitFiberUnmount)try{lo.onCommitFiberUnmount(ao,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))bu(t,n);else{r=t;try{i()}catch(o){ku(r,o)}}n=n.next}while(n!==e)}break;case 1:if(Xl(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){ku(t,o)}break;case 5:Xl(t);break;case 4:ss(e,t)}}function rs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function is(e){return 5===e.tag||3===e.tag||4===e.tag}function os(e){e:{for(var t=e.return;null!==t;){if(is(t))break e;t=t.return}throw Error(Q(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(Q(161))}16&n.flags&&(it(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||is(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?as(e,n,t):ls(e,n,t)}function as(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ki));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}function ss(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(Q(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,s=l;;)if(ns(a,s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===l)break e;for(;null===s.sibling;){if(null===s.return||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ns(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function us(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Mi]=r,"input"===e&&"radio"===r.type&&null!=r.name&&je(n,r),ft(e,i),t=ft(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?st(n,l):"dangerouslySetInnerHTML"===a?rt(n,l):"children"===a?it(n,l):ae(n,a,l,t)}switch(e){case"input":We(n,r);break;case"textarea":Ke(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?Qe(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?Qe(n,!!r.multiple,r.defaultValue,!0):Qe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(Q(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,un(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Is=xo(),ts(t.child,!0)),void cs(t);case 19:return void cs(t);case 17:return;case 23:case 24:return void ts(t,null!==t.memoizedState)}throw Error(Q(163))}function cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jl),t.forEach((function(t){var r=Eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ds=Math.ceil,hs=le.ReactCurrentDispatcher,ps=le.ReactCurrentOwner,vs=0,ys=null,ms=null,gs=0,_s=0,bs=Qi(0),ws=0,Cs=null,ks=0,Ss=0,Es=0,Ts=0,xs=null,Is=0,Ps=1/0;function Ns(){Ps=xo()+500}var Rs,Os=null,Ds=!1,Ls=null,As=null,Ms=!1,Fs=null,zs=90,qs=[],Us=[],js=null,Ws=0,Bs=null,Vs=-1,Hs=0,Qs=0,$s=null,Ys=!1;function Ks(){return 0!=(48&vs)?xo():-1!==Vs?Vs:Vs=xo()}function Gs(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Io()?1:2;if(0===Hs&&(Hs=ks),0!==Lo.transition){0!==Qs&&(Qs=null!==xs?xs.pendingLanes:0),e=Hs;var t=4186112&~Qs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Io(),0!=(4&vs)&&98===e?e=xn(12,Hs):e=xn(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Hs),e}function Js(e,t,n){if(50<Ws)throw Ws=0,Bs=null,Error(Q(185));if(null===(e=Xs(e,t)))return null;Nn(e,t,n),e===ys&&(Es|=t,4===ws&&tu(e,gs));var r=Io();1===t?0!=(8&vs)&&0==(48&vs)?nu(e):(Zs(e,n),0===vs&&(Ns(),Oo())):(0==(4&vs)||98!==r&&99!==r||(null===js?js=new Set([e]):js.add(e)),Zs(e,n)),xs=e}function Xs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Zs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Rn(a),s=1<<l,u=o[l];if(-1===u){if(0==(s&r)||0!=(s&i)){u=t,Sn(s);var c=kn;o[l]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=s);a&=~s}if(r=En(e,e===ys?gs:0),t=kn,0===r)null!==n&&(n!==wo&&co(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==wo&&co(n)}15===t?(n=nu.bind(null,e),null===ko?(ko=[n],So=uo(yo,Do)):ko.push(n),n=wo):14===t?n=Ro(99,nu.bind(null,e)):n=Ro(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Q(358,e))}}(t),eu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function eu(e){if(Vs=-1,Qs=Hs=0,0!=(48&vs))throw Error(Q(327));var t=e.callbackNode;if(gu()&&e.callbackNode!==t)return null;var n=En(e,e===ys?gs:0);if(0===n)return null;var r=n,i=vs;vs|=16;var o=uu();for(ys===e&&gs===r||(Ns(),lu(e,r));;)try{du();break}catch(l){su(e,l)}if(Uo(),hs.current=o,vs=i,null!==ms?r=0:(ys=null,gs=0,r=ws),0!=(ks&Es))lu(e,0);else if(0!==r){if(2===r&&(vs|=64,e.hydrate&&(e.hydrate=!1,Ni(e.containerInfo)),0!==(n=Tn(e))&&(r=cu(e,n))),1===r)throw t=Cs,lu(e,0),tu(e,n),Zs(e,xo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(Q(345));case 2:vu(e);break;case 3:if(tu(e,n),(62914560&n)===n&&10<(r=Is+500-xo())){if(0!==En(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Ks(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ii(vu.bind(null,e),r);break}vu(e);break;case 4:if(tu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Rn(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=xo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ds(n/1960))-n)){e.timeoutHandle=Ii(vu.bind(null,e),n);break}vu(e);break;case 5:vu(e);break;default:throw Error(Q(329))}}return Zs(e,xo()),e.callbackNode===t?eu.bind(null,e):null}function tu(e,t){for(t&=~Ts,t&=~Es,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rn(t),r=1<<n;e[n]=-1,t&=~r}}function nu(e){if(0!=(48&vs))throw Error(Q(327));if(gu(),e===ys&&0!=(e.expiredLanes&gs)){var t=gs,n=cu(e,t);0!=(ks&Es)&&(n=cu(e,t=En(e,t)))}else n=cu(e,t=En(e,0));if(0!==e.tag&&2===n&&(vs|=64,e.hydrate&&(e.hydrate=!1,Ni(e.containerInfo)),0!==(t=Tn(e))&&(n=cu(e,t))),1===n)throw n=Cs,lu(e,0),tu(e,t),Zs(e,xo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,vu(e),Zs(e,xo()),null}function ru(e,t){var n=vs;vs|=1;try{return e(t)}finally{0===(vs=n)&&(Ns(),Oo())}}function iu(e,t){var n=vs;vs&=-2,vs|=8;try{return e(t)}finally{0===(vs=n)&&(Ns(),Oo())}}function ou(e,t){Yi(bs,_s),_s|=t,ks|=t}function au(){_s=bs.current,$i(bs)}function lu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Pi(n)),null!==ms)for(n=ms.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&to();break;case 3:ga(),$i(Ji),$i(Gi),Da();break;case 5:ba(r);break;case 4:ga();break;case 13:case 19:$i(wa);break;case 10:jo(r);break;case 23:case 24:au()}n=n.return}ys=e,ms=Pu(e.current,null),gs=_s=ks=t,ws=0,Cs=null,Ts=Es=Ss=0}function su(e,t){for(;;){var n=ms;try{if(Uo(),La.current=vl,Ua){for(var r=Fa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Ua=!1}if(Ma=0,qa=za=Fa=null,ja=!1,ps.current=null,null===n||null===n.return){ws=1,Cs=t,ms=null;break}e:{var o=e,a=n.return,l=n,s=t;if(t=gs,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&l.mode)){var c=l.alternate;c?(l.updateQueue=c.updateQueue,l.memoizedState=c.memoizedState,l.lanes=c.lanes):(l.updateQueue=null,l.memoizedState=null)}var f=0!=(1&wa.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var y=d.updateQueue;if(null===y){var m=new Set;m.add(u),d.updateQueue=m}else y.add(u);if(0==(2&d.mode)){if(d.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var g=Yo(-1,1);g.tag=2,Ko(l,g)}l.lanes|=1;break e}s=void 0,l=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new Yl,s=new Set,_.set(u,s)):void 0===(s=_.get(u))&&(s=new Set,_.set(u,s)),!s.has(l)){s.add(l);var b=Su.bind(null,o,u,l);u.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((De(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ws&&(ws=2),s=Ql(s,l),d=a;do{switch(d.tag){case 3:o=s,d.flags|=4096,t&=-t,d.lanes|=t,Go(d,Kl(0,o,t));break e;case 1:o=s;var w=d.type,C=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===As||!As.has(C)))){d.flags|=4096,t&=-t,d.lanes|=t,Go(d,Gl(d,o,t));break e}}d=d.return}while(null!==d)}pu(n)}catch(k){t=k,ms===n&&null!==n&&(ms=n=n.return);continue}break}}function uu(){var e=hs.current;return hs.current=vl,null===e?vl:e}function cu(e,t){var n=vs;vs|=16;var r=uu();for(ys===e&&gs===t||lu(e,t);;)try{fu();break}catch(i){su(e,i)}if(Uo(),vs=n,hs.current=r,null!==ms)throw Error(Q(261));return ys=null,gs=0,ws}function fu(){for(;null!==ms;)hu(ms)}function du(){for(;null!==ms&&!fo();)hu(ms)}function hu(e){var t=Rs(e.alternate,e,_s);e.memoizedProps=e.pendingProps,null===t?pu(e):ms=t,ps.current=null}function pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=Vl(n,t,_s)))return void(ms=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&_s)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Hl(t)))return n.flags&=2047,void(ms=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ms=t);ms=t=e}while(null!==t);0===ws&&(ws=5)}function vu(e){var t=Io();return No(99,yu.bind(null,e,t)),null}function yu(e,t){do{gu()}while(null!==Fs);if(0!=(48&vs))throw Error(Q(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var s=31-Rn(o),u=1<<s;i[s]=0,a[s]=-1,l[s]=-1,o&=~u}if(null!==js&&0==(24&r)&&js.has(e)&&js.delete(e),e===ys&&(ms=ys=null,gs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=vs,vs|=32,ps.current=null,Si=Mn,ei(a=Zr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,s=u.focusNode,u=u.focusOffset;try{l.nodeType,s.nodeType}catch(E){l=null;break e}var c=0,f=-1,d=-1,h=0,p=0,v=a,y=null;t:for(;;){for(var m;v!==l||0!==o&&3!==v.nodeType||(f=c+o),v!==s||0!==u&&3!==v.nodeType||(d=c+u),3===v.nodeType&&(c+=v.nodeValue.length),null!==(m=v.firstChild);)y=v,v=m;for(;;){if(v===a)break t;if(y===l&&++h===o&&(f=c),y===s&&++p===u&&(d=c),null!==(m=v.nextSibling))break;y=(v=y).parentNode}v=m}l=-1===f||-1===d?null:{start:f,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;Ei={focusedElem:a,selectionRange:l},Mn=!1,$s=null,Ys=!1,Os=r;do{try{mu()}catch(E){if(null===Os)throw Error(Q(330));ku(Os,E),Os=Os.nextEffect}}while(null!==Os);$s=null,Os=r;do{try{for(a=e;null!==Os;){var g=Os.flags;if(16&g&&it(Os.stateNode,""),128&g){var _=Os.alternate;if(null!==_){var b=_.ref;null!==b&&("function"==typeof b?b(null):b.current=null)}}switch(1038&g){case 2:os(Os),Os.flags&=-3;break;case 6:os(Os),Os.flags&=-3,us(Os.alternate,Os);break;case 1024:Os.flags&=-1025;break;case 1028:Os.flags&=-1025,us(Os.alternate,Os);break;case 4:us(Os.alternate,Os);break;case 8:ss(a,l=Os);var w=l.alternate;rs(l),null!==w&&rs(w)}Os=Os.nextEffect}}catch(E){if(null===Os)throw Error(Q(330));ku(Os,E),Os=Os.nextEffect}}while(null!==Os);if(b=Ei,_=Zr(),g=b.focusedElem,a=b.selectionRange,_!==g&&g&&g.ownerDocument&&Xr(g.ownerDocument.documentElement,g)){null!==a&&ei(g)&&(_=a.start,void 0===(b=a.end)&&(b=_),"selectionStart"in g?(g.selectionStart=_,g.selectionEnd=Math.min(b,g.value.length)):(b=(_=g.ownerDocument||document)&&_.defaultView||window).getSelection&&(b=b.getSelection(),l=g.textContent.length,w=Math.min(a.start,l),a=void 0===a.end?w:Math.min(a.end,l),!b.extend&&w>a&&(l=a,a=w,w=l),l=Jr(g,w),o=Jr(g,a),l&&o&&(1!==b.rangeCount||b.anchorNode!==l.node||b.anchorOffset!==l.offset||b.focusNode!==o.node||b.focusOffset!==o.offset)&&((_=_.createRange()).setStart(l.node,l.offset),b.removeAllRanges(),w>a?(b.addRange(_),b.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),b.addRange(_))))),_=[];for(b=g;b=b.parentNode;)1===b.nodeType&&_.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"==typeof g.focus&&g.focus(),g=0;g<_.length;g++)(b=_[g]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Mn=!!Si,Ei=Si=null,e.current=n,Os=r;do{try{for(g=e;null!==Os;){var C=Os.flags;if(36&C&&es(g,Os.alternate,Os),128&C){_=void 0;var k=Os.ref;if(null!==k){var S=Os.stateNode;switch(Os.tag){case 5:_=S;break;default:_=S}"function"==typeof k?k(_):k.current=_}}Os=Os.nextEffect}}catch(E){if(null===Os)throw Error(Q(330));ku(Os,E),Os=Os.nextEffect}}while(null!==Os);Os=null,Co(),vs=i}else e.current=n;if(Ms)Ms=!1,Fs=e,zs=t;else for(Os=r;null!==Os;)t=Os.nextEffect,Os.nextEffect=null,8&Os.flags&&((C=Os).sibling=null,C.stateNode=null),Os=t;if(0===(r=e.pendingLanes)&&(As=null),1===r?e===Bs?Ws++:(Ws=0,Bs=e):Ws=0,n=n.stateNode,lo&&"function"==typeof lo.onCommitFiberRoot)try{lo.onCommitFiberRoot(ao,n,void 0,64==(64&n.current.flags))}catch(E){}if(Zs(e,xo()),Ds)throw Ds=!1,e=Ls,Ls=null,e;return 0!=(8&vs)||Oo(),null}function mu(){for(;null!==Os;){var e=Os.alternate;Ys||null===$s||(0!=(8&Os.flags)?Ut(Os,$s)&&(Ys=!0):13===Os.tag&&fs(e,Os)&&Ut(Os,$s)&&(Ys=!0));var t=Os.flags;0!=(256&t)&&Zl(e,Os),0==(512&t)||Ms||(Ms=!0,Ro(97,(function(){return gu(),null}))),Os=Os.nextEffect}}function gu(){if(90!==zs){var e=97<zs?97:zs;return zs=90,No(e,wu)}return!1}function _u(e,t){qs.push(t,e),Ms||(Ms=!0,Ro(97,(function(){return gu(),null})))}function bu(e,t){Us.push(t,e),Ms||(Ms=!0,Ro(97,(function(){return gu(),null})))}function wu(){if(null===Fs)return!1;var e=Fs;if(Fs=null,0!=(48&vs))throw Error(Q(331));var t=vs;vs|=32;var n=Us;Us=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(s){if(null===o)throw Error(Q(330));ku(o,s)}}for(n=qs,qs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(s){if(null===o)throw Error(Q(330));ku(o,s)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return vs=t,Oo(),!0}function Cu(e,t,n){Ko(e,t=Kl(0,t=Ql(n,t),1)),t=Ks(),null!==(e=Xs(e,1))&&(Nn(e,1,t),Zs(e,t))}function ku(e,t){if(3===e.tag)Cu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Cu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===As||!As.has(r))){var i=Gl(n,e=Ql(t,e),1);if(Ko(n,i),i=Ks(),null!==(n=Xs(n,1)))Nn(n,1,i),Zs(n,i);else if("function"==typeof r.componentDidCatch&&(null===As||!As.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ks(),e.pingedLanes|=e.suspendedLanes&n,ys===e&&(gs&n)===n&&(4===ws||3===ws&&(62914560&gs)===gs&&500>xo()-Is?lu(e,0):Ts|=n),Zs(e,t)}function Eu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Io()?1:2:(0===Hs&&(Hs=ks),0===(t=In(62914560&~Hs))&&(t=4194304))),n=Ks(),null!==(e=Xs(e,t))&&(Nn(e,t,n),Zs(e,n))}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xu(e,t,n,r){return new Tu(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=xu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Iu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ce:return Ru(n.children,i,o,t);case Ce:a=8,i|=16;break;case fe:a=8,i|=1;break;case de:return(e=xu(12,n,t,8|i)).elementType=de,e.type=de,e.lanes=o,e;case ye:return(e=xu(13,n,t,i)).type=ye,e.elementType=ye,e.lanes=o,e;case me:return(e=xu(19,n,t,i)).elementType=me,e.lanes=o,e;case ke:return Ou(n,i,o,t);case Se:return(e=xu(24,n,t,i)).elementType=Se,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case he:a=10;break e;case pe:a=9;break e;case ve:a=11;break e;case ge:a=14;break e;case _e:a=16,r=null;break e;case be:a=22;break e}throw Error(Q(130,null==e?e:typeof e,""))}return(t=xu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ru(e,t,n,r){return(e=xu(7,e,r,t)).lanes=n,e}function Ou(e,t,n,r){return(e=xu(23,e,r,t)).elementType=ke,e.lanes=n,e}function Du(e,t,n){return(e=xu(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=xu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Au(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Pn(0),this.expirationTimes=Pn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.mutableSourceEagerHydrationData=null}function Mu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ue,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Fu(e,t,n,r){var i=t.current,o=Ks(),a=Gs(i);e:if(n){t:{if(Mt(n=n._reactInternals)!==n||1!==n.tag)throw Error(Q(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(eo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(Q(171))}if(1===n.tag){var s=n.type;if(eo(s)){n=ro(n,s,l);break e}}n=l}else n=Ki;return null===t.context?t.context=n:t.pendingContext=n,(t=Yo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ko(i,t),Js(i,a,o),a}function zu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Uu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}function ju(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Au(e,t,null!=n&&!0===n.hydrate),t=xu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Qo(t),e[Fi]=n.current,vi(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Wu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var l=i;i=function(){var e=zu(a);l.call(e)}}Fu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ju(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var e=zu(a);s.call(e)}}iu((function(){Fu(t,a,e,i)}))}return zu(a)}function Vu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wu(t))throw Error(Q(200));return Mu(e,t,null,n)}Rs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ji.current)bl=!0;else{if(0==(n&r)){switch(bl=!1,t.tag){case 3:Nl(t),Ra();break;case 5:_a(t);break;case 1:eo(t.type)&&io(t);break;case 4:ma(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Yi(Mo,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Al(e,t,n):(Yi(wa,1&wa.current),null!==(t=Wl(e,t,n))?t.sibling:null);Yi(wa,1&wa.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return jl(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yi(wa,wa.current),r)break;return null;case 23:case 24:return t.lanes=0,El(e,t,n)}return Wl(e,t,n)}bl=0!=(16384&e.flags)}else bl=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Zi(t,Gi.current),Bo(t,n),i=Va(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,eo(r)){var o=!0;io(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Qo(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&ea(t,r,a,e),i.updater=ta,t.stateNode=i,i._reactInternals=t,oa(t,r,e,n),t=Pl(null,t,r,!0,o,n)}else t.tag=0,wl(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Iu(e)?1:0;if(null!=e){if((e=e.$$typeof)===ve)return 11;if(e===ge)return 14}return 2}(i),e=Ao(i,e),o){case 0:t=xl(null,t,i,e,n);break e;case 1:t=Il(null,t,i,e,n);break e;case 11:t=Cl(null,t,i,e,n);break e;case 14:t=kl(null,t,i,Ao(i.type,e),r,n);break e}throw Error(Q(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,xl(e,t,r,i=t.elementType===r?i:Ao(r,i),n);case 1:return r=t.type,i=t.pendingProps,Il(e,t,r,i=t.elementType===r?i:Ao(r,i),n);case 3:if(Nl(t),r=t.updateQueue,null===e||null===r)throw Error(Q(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,$o(e,t),Jo(t,r,null,n),(r=t.memoizedState.element)===i)Ra(),t=Wl(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Sa=Ri(t.stateNode.containerInfo.firstChild),ka=t,o=Ea=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Oa.push(o);for(n=fa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else wl(e,t,r,n),Ra();t=t.child}return t;case 5:return _a(t),null===e&&Ia(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,xi(r,i)?a=null:null!==o&&xi(r,o)&&(t.flags|=16),Tl(e,t),wl(e,t,a,n),t.child;case 6:return null===e&&Ia(t),null;case 13:return Al(e,t,n);case 4:return ma(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ca(t,null,r,n):wl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Cl(e,t,r,i=t.elementType===r?i:Ao(r,i),n);case 7:return wl(e,t,t.pendingProps,n),t.child;case 8:case 12:return wl(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(Yi(Mo,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=$r(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!Ji.current){t=Wl(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var s=l.dependencies;if(null!==s){a=l.child;for(var u=s.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===l.tag&&((u=Yo(-1,n&-n)).tag=2,Ko(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),Wo(l.return,n),s.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}wl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Bo(t,n),r=r(i=Vo(i,o.unstable_observedBits)),t.flags|=1,wl(e,t,r,n),t.child;case 14:return o=Ao(i=t.type,t.pendingProps),kl(e,t,i,o=Ao(i.type,o),r,n);case 15:return Sl(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,eo(r)?(e=!0,io(t)):e=!1,Bo(t,n),ra(t,r,i),oa(t,r,i,n),Pl(null,t,r,!0,e,n);case 19:return jl(e,t,n);case 23:case 24:return El(e,t,n)}throw Error(Q(156,t.tag))},ju.prototype.render=function(e){Fu(e,this._internalRoot,null,null)},ju.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Fu(null,e,null,(function(){t[Fi]=null}))},jt=function(e){13===e.tag&&(Js(e,4,Ks()),Uu(e,4))},Wt=function(e){13===e.tag&&(Js(e,67108864,Ks()),Uu(e,67108864))},Bt=function(e){if(13===e.tag){var t=Ks(),n=Gs(e);Js(e,n,t),Uu(e,n)}},Vt=function(e,t){return t()},ht=function(e,t,n){switch(t){case"input":if(We(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wi(r);if(!i)throw Error(Q(90));Fe(r),We(r,i)}}}break;case"textarea":Ke(e,n);break;case"select":null!=(t=n.value)&&Qe(e,!!n.multiple,t,!1)}},_t=ru,bt=function(e,t,n,r,i){var o=vs;vs|=4;try{return No(98,e.bind(null,t,n,r,i))}finally{0===(vs=o)&&(Ns(),Oo())}},wt=function(){0==(49&vs)&&(function(){if(null!==js){var e=js;js=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Zs(e,xo())}))}Oo()}(),gu())},Ct=function(e,t){var n=vs;vs|=2;try{return e(t)}finally{0===(vs=n)&&(Ns(),Oo())}};var Hu={Events:[Ui,ji,Wi,mt,gt,gu,{current:!1}]},Qu={findFiberByHostInstance:qi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},$u={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qt(e))?null:e.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{ao=Yu.inject($u),lo=Yu}catch(nt){}}U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hu,U.createPortal=Vu,U.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(Q(188));throw Error(Q(268,Object.keys(e)))}return e=null===(e=qt(t))?null:e.stateNode},U.flushSync=function(e,t){var n=vs;if(0!=(48&n))return e(t);vs|=1;try{if(e)return No(99,e.bind(null,t))}finally{vs=n,Oo()}},U.hydrate=function(e,t,n){if(!Wu(t))throw Error(Q(200));return Bu(null,e,t,!0,n)},U.render=function(e,t,n){if(!Wu(t))throw Error(Q(200));return Bu(null,e,t,!1,n)},U.unmountComponentAtNode=function(e){if(!Wu(e))throw Error(Q(40));return!!e._reactRootContainer&&(iu((function(){Bu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Fi]=null}))})),!0)},U.unstable_batchedUpdates=ru,U.unstable_createPortal=function(e,t){return Vu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},U.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wu(n))throw Error(Q(200));if(null==e||void 0===e._reactInternals)throw Error(Q(38));return Bu(e,t,n,!1,r)},U.version="17.0.2",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),q.exports=U;var Ku=q.exports;function Gu(){return(Gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ju(e,t){return(Ju=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Zu=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function ec(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Zu(r)&&Zu(i)))return!1;var r,i;return!0}function tc(e,t){var n;void 0===t&&(t=ec);var r,i=[],o=!1;return function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}}var nc="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function rc(e){cancelAnimationFrame(e.id)}var ic=null;function oc(e){if(void 0===e&&(e=!1),null===ic||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?ic="positive-descending":(t.scrollLeft=1,ic=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),ic}return ic}var ac=function(e,t){return e};function lc(e){var n,r,i=e.getItemOffset,o=e.getEstimatedTotalSize,a=e.getItemSize,l=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,u=e.getStopIndexForStartIndex,c=e.initInstanceProps,f=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return r=n=function(e){var n,r;function h(t){var n;return(n=e.call(this,t)||this)._instanceProps=c(n.props,Xu(Xu(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:Xu(Xu(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=tc((function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})})),n._callOnScroll=void 0,n._callOnScroll=tc((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,r=n.props,o=r.direction,l=r.itemSize,s=r.layout,u=n._getItemStyleCache(f&&l,f&&s,f&&o);if(u.hasOwnProperty(e))t=u[e];else{var c=i(n.props,e,n._instanceProps),d=a(n.props,e,n._instanceProps),h="horizontal"===o||"horizontal"===s,p="rtl"===o,v=h?c:0;u[e]=t={position:"absolute",left:p?void 0:v,right:p?v:void 0,top:h?0:c,height:h?"100%":d,width:h?d:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=tc((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===i)return null;var t=n.props.direction,a=i;if("rtl"===t)switch(oc()){case"negative":a=-i;break;case"positive-descending":a=o-r-i}return a=Math.max(0,Math.min(a,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){var e,t,r,i;null!==n._resetIsScrollingTimeoutId&&rc(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=(e=n._resetIsScrolling,t=150,r=nc(),i={id:requestAnimationFrame((function n(){nc()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}))})},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}r=e,(n=h).prototype=Object.create(r.prototype),n.prototype.constructor=n,Ju(n,r),h.getDerivedStateFromProps=function(e,t){return sc(e,t),d(e),null};var p=h.prototype;return p.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},p.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(l(this.props,e,t,r,this._instanceProps))},p.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},p.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(oc()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var a=o.clientWidth,l=o.scrollWidth;o.scrollLeft=l-a-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},p.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&rc(this._resetIsScrollingTimeoutId)},p.render=function(){var e=this.props,n=e.children,r=e.className,i=e.direction,a=e.height,l=e.innerRef,s=e.innerElementType,u=e.innerTagName,c=e.itemCount,f=e.itemData,d=e.itemKey,h=void 0===d?ac:d,p=e.layout,v=e.outerElementType,y=e.outerTagName,m=e.style,g=e.useIsScrolling,_=e.width,b=this.state.isScrolling,w="horizontal"===i||"horizontal"===p,C=w?this._onScrollHorizontal:this._onScrollVertical,k=this._getRangeToRender(),S=k[0],E=k[1],T=[];if(c>0)for(var x=S;x<=E;x++)T.push(t.exports.createElement(n,{data:f,key:h(x,f),index:x,isScrolling:g?b:void 0,style:this._getItemStyle(x)}));var I=o(this.props,this._instanceProps);return t.exports.createElement(v||y||"div",{className:r,onScroll:C,ref:this._outerRefSetter,style:Gu({position:"relative",height:a,width:_,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},m)},t.exports.createElement(s||u||"div",{children:T,ref:l,style:{height:w?"100%":I,pointerEvents:b?"none":void 0,width:w?I:"100%"}}))},p._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"==typeof this.props.onScroll){var o=this.state,a=o.scrollDirection,l=o.scrollOffset,s=o.scrollUpdateWasRequested;this._callOnScroll(a,l,s)}},p._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,o=r.scrollDirection,a=r.scrollOffset;if(0===t)return[0,0,0,0];var l=s(this.props,a,this._instanceProps),c=u(this.props,l,a,this._instanceProps),f=i&&"backward"!==o?1:Math.max(1,n),d=i&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,l-f),Math.max(0,Math.min(t-1,c+d)),l,c]},h}(t.exports.PureComponent),n.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},r}var sc=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},uc=lc({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r){var i=e.direction,o=e.height,a=e.itemCount,l=e.itemSize,s=e.layout,u=e.width,c="horizontal"===i||"horizontal"===s?u:o,f=Math.max(0,a*l-c),d=Math.min(f,t*l),h=Math.max(0,t*l-c+l);switch("smart"===n&&(n=r>=h-c&&r<=d+c?"auto":"center"),n){case"start":return d;case"end":return h;case"center":var p=Math.round(h+(d-h)/2);return p<Math.ceil(c/2)?0:p>f+Math.floor(c/2)?f:p;case"auto":default:return r>=h&&r<=d?r:r<h?h:d}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,i=e.height,o=e.itemCount,a=e.itemSize,l=e.layout,s=e.width,u=t*a,c="horizontal"===r||"horizontal"===l?s:i,f=Math.ceil((c+n-u)/a);return Math.max(0,Math.min(o-1,t+f-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}}),cc=/^\s+|\s+$/g,fc=/^[-+]0x[0-9a-f]+$/i,dc=/^0b[01]+$/i,hc=/^0o[0-7]+$/i,pc=parseInt,vc="object"==typeof e&&e&&e.Object===Object&&e,yc="object"==typeof self&&self&&self.Object===Object&&self,mc=vc||yc||Function("return this")(),gc=Object.prototype.toString,_c=Math.max,bc=Math.min,wc=function(){return mc.Date.now()};function Cc(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function kc(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==gc.call(e)}(e))return NaN;if(Cc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Cc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(cc,"");var n=dc.test(e);return n||hc.test(e)?pc(e.slice(2),n?2:8):fc.test(e)?NaN:+e}var Sc=function(e,t,n){var r,i,o,a,l,s,u=0,c=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function p(e){return u=e,l=setTimeout(y,t),c?h(e):a}function v(e){var n=e-s;return void 0===s||n>=t||n<0||f&&e-u>=o}function y(){var e=wc();if(v(e))return m(e);l=setTimeout(y,function(e){var n=t-(e-s);return f?bc(n,o-(e-u)):n}(e))}function m(e){return l=void 0,d&&r?h(e):(r=i=void 0,a)}function g(){var e=wc(),n=v(e);if(r=arguments,i=this,s=e,n){if(void 0===l)return p(s);if(f)return l=setTimeout(y,t),h(s)}return void 0===l&&(l=setTimeout(y,t)),a}return t=kc(t)||0,Cc(n)&&(c=!!n.leading,o=(f="maxWait"in n)?_c(kc(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=i=l=void 0},g.flush=function(){return void 0===l?a:m(wc())},g},Ec=function(e,t){return(Ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Tc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ec(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var xc=function(){return(xc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ic(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}function Pc(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function Nc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rc(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Oc(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dc=!1,Lc="${JSCORE_VERSION}",Ac=function(e,t){if(!e)throw Mc(t)},Mc=function(e){return new Error("Firebase Database ("+Lc+") INTERNAL ASSERT FAILED: "+e)},Fc=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},zc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,l=a?e[i+1]:0,s=i+2<e.length,u=s?e[i+2]:0,c=o>>2,f=(3&o)<<4|l>>4,d=(15&l)<<2|u>>6,h=63&u;s||(h=64,a||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fc(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(l=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var l=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,l=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==s)throw Error();var u=o<<2|a>>4;if(r.push(u),64!==l){var c=a<<4&240|l>>2;if(r.push(c),64!==s){var f=l<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},qc=function(e){try{return zc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Uc(e){return jc(void 0,e)}function jc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=jc(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wc=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Vc(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function Hc(){return!0===Dc}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qc=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,$c.prototype.create),o}return Tc(t,e),t}(Error),$c=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?Yc(o,r):"Error",l=this.serviceName+": "+a+" ("+i+").",s=new Qc(i,l,r);return s},e}();function Yc(e,t){return e.replace(Kc,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var Kc=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e){return JSON.parse(e)}function Jc(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xc=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=Gc(qc(o[0])||""),n=Gc(qc(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ef(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function tf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function nf(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rf=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,l=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^s&(u^c),a=1518500249):(o=s^u^c,a=1859775393):r<60?(o=s&u|c&(s|u),a=2400959708):(o=s^u^c,a=3395469782);i=(l<<5|l>>>27)+o+f+a+n[r]&4294967295;f=c,c=u,u=4294967295&(s<<30|s>>>2),s=l,l=i}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function of(e,t){var n=new af(e,t);return n.subscribe.bind(n)}var af=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=lf),void 0===r.error&&(r.error=lf),void 0===r.complete&&(r.complete=lf);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function lf(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sf=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function uf(e,t){return e+" failed: "+t+" argument "}function cf(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(uf(e,t)+"must be a valid function.")}function ff(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(uf(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var df=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hf(e){return e&&e._delegate?e._delegate:e}var pf=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),vf=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Wc;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=xc({identifier:"[DEFAULT]",optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(c){}try{for(var r=Nc(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Rc(i.value,2),a=o[0],l=o[1],s=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:s});l.resolve(u)}catch(c){}}}catch(f){t={error:f}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Ic(this,void 0,void 0,(function(){var e;return Pc(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Oc(Oc([],Rc(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Rc(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=e.options,a=void 0===o?{}:o,l=this.normalizeInstanceIdentifier(i);if(this.isInitialized(l))throw Error(this.name+"("+l+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:l,options:a});try{for(var u=Nc(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var f=Rc(c.value,2),d=f[0],h=f[1];l===this.normalizeInstanceIdentifier(d)&&h.resolve(s)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(s,l),s},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=Nc(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e,t)}catch(l){}}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yf,mf=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new vf(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function gf(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _f,bf,wf=[];(bf=_f||(_f={}))[bf.DEBUG=0]="DEBUG",bf[bf.VERBOSE=1]="VERBOSE",bf[bf.INFO=2]="INFO",bf[bf.WARN=3]="WARN",bf[bf.ERROR=4]="ERROR",bf[bf.SILENT=5]="SILENT";var Cf,kf={debug:_f.DEBUG,verbose:_f.VERBOSE,info:_f.INFO,warn:_f.WARN,error:_f.ERROR,silent:_f.SILENT},Sf=_f.INFO,Ef=((yf={})[_f.DEBUG]="log",yf[_f.VERBOSE]="log",yf[_f.INFO]="info",yf[_f.WARN]="warn",yf[_f.ERROR]="error",yf),Tf=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Ef[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,gf(["["+i+"]  "+e.name+":"],n))}},xf=function(){function e(e){this.name=e,this._logLevel=Sf,this._logHandler=Tf,this._userLogHandler=null,wf.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in _f))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?kf[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gf([this,_f.DEBUG],e)),this._logHandler.apply(this,gf([this,_f.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gf([this,_f.VERBOSE],e)),this._logHandler.apply(this,gf([this,_f.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gf([this,_f.INFO],e)),this._logHandler.apply(this,gf([this,_f.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gf([this,_f.WARN],e)),this._logHandler.apply(this,gf([this,_f.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gf([this,_f.ERROR],e)),this._logHandler.apply(this,gf([this,_f.ERROR],e))},e}();function If(e){wf.forEach((function(t){t.setLogLevel(e)}))}var Pf,Nf=((Cf={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Cf["bad-app-name"]="Illegal App name: '{$appName}",Cf["duplicate-app"]="Firebase App named '{$appName}' already exists",Cf["app-deleted"]="Firebase App named '{$appName}' already deleted",Cf["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Cf["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Cf),Rf=new $c("app","Firebase",Nf),Of=((Pf={})["@firebase/app"]="fire-core",Pf["@firebase/analytics"]="fire-analytics",Pf["@firebase/app-check"]="fire-app-check",Pf["@firebase/auth"]="fire-auth",Pf["@firebase/database"]="fire-rtdb",Pf["@firebase/functions"]="fire-fn",Pf["@firebase/installations"]="fire-iid",Pf["@firebase/messaging"]="fire-fcm",Pf["@firebase/performance"]="fire-perf",Pf["@firebase/remote-config"]="fire-rc",Pf["@firebase/storage"]="fire-gcs",Pf["@firebase/firestore"]="fire-fst",Pf["fire-js"]="fire-js",Pf["firebase-wrapper"]="fire-js-all",Pf),Df=new xf("@firebase/app"),Lf=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Uc(e),this.container=new mf(t.name),this._addComponent(new pf("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){Df.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Rf.create("app-deleted",{appName:this.name_})},e}();Lf.prototype.name&&Lf.prototype.options||Lf.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Af(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw Rf.create("bad-app-name",{appName:String(a)});if(Zc(t,a))throw Rf.create("duplicate-app",{appName:a});var l=new e(n,o,r);return t[a]=l,l},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Of[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){var s=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&l&&s.push("and"),l&&s.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Df.warn(s.join(" "))}o(new pf(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:If,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Rf.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=kf[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:_f[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=wf;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!Zc(t,e=e||"[DEFAULT]"))throw Rf.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Df.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var l=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw Rf.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&jc(l,o.serviceProps),r[a]=l,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var s=0,u=Object.keys(t);s<u.length;s++){var c=u[s];t[c]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mf=function e(){var t=Af(Lf);return t.INTERNAL=xc(xc({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){jc(t,e)},createSubscribe:of,ErrorFactory:$c,deepExtend:jc}),t}(),Ff=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Df.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var zf=self.firebase.SDK_VERSION;zf&&zf.indexOf("LITE")>=0&&Df.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var qf=Mf.initializeApp;Mf.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vc()&&Df.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),qf.apply(void 0,e)};var Uf,jf,Wf=Mf;(Uf=Wf).INTERNAL.registerComponent(new pf("platform-logger",(function(e){return new Ff(e)}),"PRIVATE")),Uf.registerVersion("@firebase/app","0.6.22",jf),Uf.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Wf.registerVersion("firebase","8.6.3","app");var Bf="";function Vf(e){Bf=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hf,Qf=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jc(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Gc(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),$f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Zc(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),Yf=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Qf(t)}}catch(n){}return new $f},Kf=Yf("localStorage"),Gf=Yf("sessionStorage"),Jf=new xf("@firebase/database"),Xf=(Hf=1,function(){return Hf++}),Zf=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Ac(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new rf;n.update(t);var r=n.digest();return zc.encodeByteArray(r)},ed=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=ed.apply(null,i):n+="object"==typeof i?Jc(i):i,n+=" "}return n},td=null,nd=!0,rd=function(e,t){Ac(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Jf.logLevel=_f.VERBOSE,td=Jf.log.bind(Jf),t&&Gf.set("logging_enabled",!0)):"function"==typeof e?td=e:(td=null,Gf.remove("logging_enabled"))},id=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===nd&&(nd=!1,null===td&&!0===Gf.get("logging_enabled")&&rd(!0)),td){var n=ed.apply(null,e);td(n)}},od=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];id.apply(void 0,Oc([e],Rc(t)))}},ad=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+ed.apply(void 0,Oc([],Rc(e)));Jf.error(n)},ld=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+ed.apply(void 0,Oc([],Rc(e)));throw Jf.error(n),new Error(n)},sd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+ed.apply(void 0,Oc([],Rc(e)));Jf.warn(n)},ud=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},cd="[MIN_NAME]",fd="[MAX_NAME]",dd=function(e,t){if(e===t)return 0;if(e===cd||t===fd)return-1;if(t===cd||e===fd)return 1;var n=bd(e),r=bd(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},hd=function(e,t){return e===t?0:e<t?-1:1},pd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Jc(t))},vd=function(e){if("object"!=typeof e||null===e)return Jc(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=Jc(t[i]),r+=":",r+=vd(e[t[i]]);return r+="}"},yd=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var gd=function(e){Ac(!ud(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var l=[];for(o=52;o;o-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(t?1:0),l.reverse();var s=l.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()};var _d=new RegExp("^-?(0*)\\d{1,10}$"),bd=function(e){if(_d.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},wd=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw sd("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Cd=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},kd=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){sd('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),Sd=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(id("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',sd(e)},e}(),Ed=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),Td=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xd=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kf.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Kf.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Id(e,t,n){var r;if(Ac("string"==typeof t,"typeof type must == string"),Ac("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return md(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pd=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Zc(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Uc(this.counters_)},e}(),Nd={},Rd={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e){var t=e.toString();return Nd[t]||(Nd[t]=new Pd),Nd[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Dd=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&wd((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Ld=function(){function e(e,t,n,r,i,o,a){var l=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=od(e),this.stats_=Od(t),this.urlFn=function(e){return l.appCheckToken&&(e.ac=l.appCheckToken),Id(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Dd(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ad((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Rc(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Rc(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&Td.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Jc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n,r=(n=Fc(t),zc.encodeByteArray(n,!0)),i=yd(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(e){var t=Jc(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Ad=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Xf(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){id("frame writing exception"),l.stack&&id(l.stack),id(l)}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||id("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){id("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Md=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!=typeof MozWebSocket?Md=MozWebSocket:"undefined"!=typeof WebSocket&&(Md=WebSocket);var Fd=function(){function e(t,n,r,i,o,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=od(this.connId),this.stats_=Od(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Td.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Id(e,"websocket",i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kf.set("previous_websocket_failure",!0);try{if(Hc());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Md(this.connURL,[],r)}}catch(o){this.log_("Error instantiating WebSocket.");var i=o.message||o.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Md&&!e.forceDisallow_},e.previouslyFailed=function(){return Kf.isInMemoryStorage||!0===Kf.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){Kf.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Gc(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Ac(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=Jc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=yd(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),zd=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Ld,Fd]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Fd&&Fd.isAvailable(),o=i&&!Fd.previouslyFailed();if(t.webSocketOnly&&(i||sd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Fd];else{var a=this.transports_=[];try{for(var l=Nc(e.ALL_TRANSPORTS),s=l.next();!s.done;s=l.next()){var u=s.value;u&&u.isAvailable()&&a.push(u)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),qd=function(){function e(e,t,n,r,i,o,a,l,s,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=od("c:"+this.id+":"),this.transportManager_=new zd(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Cd((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=pd("t",e),n=pd("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=pd("t",e),n=pd("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=pd("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ad("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ad("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&sd("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Cd((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cd((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Ud=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),jd=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Ac(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Oc([],Rc(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Ac(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Wd=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Bc()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Tc(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Ac("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(jd),Bd=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(){return new Bd("")}function Hd(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Qd(e){return e.pieces_.length-e.pieceNum_}function $d(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Bd(e.pieces_,t)}function Yd(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Kd(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Gd(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Bd(t,0)}function Jd(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Bd)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Bd(n,0)}function Xd(e){return e.pieceNum_>=e.pieces_.length}function Zd(e,t){var n=Hd(e),r=Hd(t);if(null===n)return t;if(n===r)return Zd($d(e),$d(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function eh(e,t){for(var n=Kd(e,0),r=Kd(t,0),i=0;i<n.length&&i<r.length;i++){var o=dd(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function th(e,t){if(Qd(e)!==Qd(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nh(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Qd(e)>Qd(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var rh=function(e,t){this.errorPrefix_=t,this.parts_=Kd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=df(this.parts_[n]);ih(this)};function ih(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+oh(e))}function oh(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ah,lh,sh=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Tc(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Ac("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(jd),uh=function(e){function t(n,r,i,o,a,l,s,u){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=l,c.appCheckTokenProvider_=s,c.authOverride_=u,c.id=t.nextPersistentConnectionId_++,c.log_=od("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Hc())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return sh.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Wd.getInstance().on("online",c.onOnline_,c),c}return Tc(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Jc(i)),Ac(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new Wc,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Ac(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ac(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var l=a.d,s=a.s;t.warnOnListenWarnings_(l,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==s&&n.removeListen_(i,o),e.onComplete&&e.onComplete(s,l))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Zc(e,"w")){var n=ef(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();sd("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||"object"==typeof(t=Xc(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e,t=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(e=Xc(n).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(e){var r=e.s,i=e.d||"error";t.authToken_===n&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ac(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Jc(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ad("Unrecognized action received from server: "+Jc(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Ac(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Ic(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,f,d,h,p,v=this;return Pc(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,s=function(){l?l.close():(a=!0,r())},u=function(e){Ac(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:s,sendRequest:u},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)])];case 2:return f=Rc.apply(void 0,[y.sent(),2]),d=f[0],h=f[1],a?id("getToken() completed but was canceled"):(id("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new qd(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){sd(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),o)),[3,4];case 3:return p=y.sent(),this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&sd(p),s()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){id("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){id("Resuming connection for reason: "+e),delete this.interruptReasons_[e],tf(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return vd(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new Bd(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){id("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){id("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Nc(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var l=(n=void 0,Nc(a.values())),s=l.next();!s.done;s=l.next()){var u=s.value;this.sendListen_(u)}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},t.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+Bf.replace(/\./g,"-")]=1,Bc()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Wd.getInstance().currentlyOnline();return tf(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Ud),ch=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),fh=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new ch(cd,e),r=new ch(cd,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return ch.MIN},e}(),dh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tc(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return ah},set:function(e){ah=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return dd(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Mc("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return ch.MIN},t.prototype.maxPost=function(){return new ch(fd,ah)},t.prototype.makePost=function(e,t){return Ac("string"==typeof e,"KeyIndex indexValue must always be a string."),new ch(e,ah)},t.prototype.toString=function(){return".key"},t}(fh),hh=new dh,ph=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),vh=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:mh.EMPTY_NODE,this.right=null!=o?o:mh.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return mh.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return mh.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),yh=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new vh(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),mh=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,vh.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,vh.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new ph(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new ph(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new ph(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new ph(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new yh,e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gh(e,t){return dd(e.name,t.name)}function _h(e,t){return dd(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bh,wh,Ch,kh=function(e){return"number"==typeof e?"number:"+gd(e):"string:"+e},Sh=function(e){if(e.isLeafNode()){var t=e.val();Ac("string"==typeof t||"number"==typeof t||"object"==typeof t&&Zc(t,".sv"),"Priority must be a string or number.")}else Ac(e===lh||e.isEmpty(),"priority of unexpected type.");Ac(e===lh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Eh=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ac(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Sh(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return bh},set:function(e){bh=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Xd(t)?this:".priority"===Hd(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Hd(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Ac(".priority"!==r||1===Qd(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild($d(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+kh(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?gd(this.value_):this.value_,this.lazyHash_=Zf(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Ac(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Ac(i>=0,"Unknown leaf type: "+n),Ac(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Th,xh,Ih=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tc(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?dd(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return ch.MIN},t.prototype.maxPost=function(){return new ch(fd,new Eh("[PRIORITY-POST]",Ch))},t.prototype.makePost=function(e,t){var n=wh(e);return new ch(t,new Eh("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(fh)),Ph=Math.log(2),Nh=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ph,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Rh=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,l=r-t;if(0===l)return null;if(1===l)return o=e[t],a=n?n(o):o,new vh(a,o.node,vh.BLACK,null,null);var s=parseInt(l/2,10)+t,u=i(t,s),c=i(s+1,r);return o=e[s],a=n?n(o):o,new vh(a,o.node,vh.BLACK,u,c)},o=function(t){for(var r=null,o=null,a=e.length,l=function(t,r){var o=a-t,l=a;a-=t;var u=i(o+1,l),c=e[o],f=n?n(c):c;s(new vh(f,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(o=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(u+1));c?l(f,vh.BLACK):(l(f,vh.BLACK),l(f,vh.RED))}return o}(new Nh(e.length));return new mh(r||t,o)},Oh={},Dh=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Ac(Oh&&Ih,"ChildrenNode.ts has not been loaded"),Th=Th||new e({".priority":Oh},{".priority":Ih})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=ef(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof mh?t:null},e.prototype.hasIndex=function(e){return Zc(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Ac(t!==hh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(ch.Wrap),l=a.getNext();l;)o=o||t.isDefinedOn(l.node),i.push(l),l=a.getNext();r=o?Rh(i,t.getCompare()):Oh;var s=t.toString(),u=xc({},this.indexSet_);u[s]=t;var c=xc({},this.indexes_);return c[s]=r,new e(c,u)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(nf(this.indexes_,(function(e,i){var o=ef(r.indexSet_,i);if(Ac(o,"Missing index implementation for "+i),e===Oh){if(o.isDefinedOn(t.node)){for(var a=[],l=n.getIterator(ch.Wrap),s=l.getNext();s;)s.name!==t.name&&a.push(s),s=l.getNext();return a.push(t),Rh(a,o.getCompare())}return Oh}var u=n.get(t.name),c=e;return u&&(c=c.remove(new ch(t.name,u))),c.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(nf(this.indexes_,(function(e){if(e===Oh)return e;var r=n.get(t.name);return r?e.remove(new ch(t.name,r)):e})),this.indexSet_)},e}(),Lh=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Sh(this.priorityNode_),this.children_.isEmpty()&&Ac(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return xh||(xh=new e(new mh(_h),null,Dh.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||xh},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?xh:t},e.prototype.getChild=function(e){var t=Hd(e);return null===t?this:this.getImmediateChild(t).getChild($d(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Ac(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new ch(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?xh:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=Hd(e);if(null===n)return t;Ac(".priority"!==Hd(e)||1===Qd(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild($d(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ih,(function(a,l){n[a]=l.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+kh(this.getPriority().val())+":"),this.forEachChild(Ih,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Zf(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ch(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new ch(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new ch(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ch.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ch.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ah?-1:0},e.prototype.withIndex=function(t){if(t===hh||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===hh||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ih),r=t.getIterator(Ih),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===hh?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ah=new(function(e){function t(){return e.call(this,new mh(_h),Lh.EMPTY_NODE,Dh.Default)||this}return Tc(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Lh.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Lh));Object.defineProperties(ch,{MIN:{value:new ch(cd,Lh.EMPTY_NODE)},MAX:{value:new ch(fd,Ah)}}),dh.__EMPTY_NODE=Lh.EMPTY_NODE,Eh.__childrenNodeConstructor=Lh,lh=Ah,function(e){Ch=e}(Ah);function Mh(e,t){if(void 0===t&&(t=null),null===e)return Lh.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Ac(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Eh(e,Mh(t));if(e instanceof Array){var n=Lh.EMPTY_NODE;return md(e,(function(t,r){if(Zc(e,t)&&"."!==t.substring(0,1)){var i=Mh(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Mh(t))}var r=[],i=!1;if(md(e,(function(e,t){if("."!==e.substring(0,1)){var n=Mh(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new ch(e,n)))}})),0===r.length)return Lh.EMPTY_NODE;var o=Rh(r,gh,(function(e){return e.name}),_h);if(i){var a=Rh(r,Ih.getCompare());return new Lh(o,Mh(t),new Dh({".priority":a},{".priority":Ih}))}return new Lh(o,Mh(t),Dh.Default)}!function(e){wh=e}(Mh);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fh,zh,qh=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Ac(!Xd(t)&&".priority"!==Hd(t),"Can't create PathIndex with empty path or .priority key"),n}return Tc(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?dd(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Mh(e),r=Lh.EMPTY_NODE.updateChild(this.indexPath_,n);return new ch(t,r)},t.prototype.maxPost=function(){var e=Lh.EMPTY_NODE.updateChild(this.indexPath_,Ah);return new ch(fd,e)},t.prototype.toString=function(){return Kd(this.indexPath_,0).join("/")},t}(fh),Uh=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tc(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?dd(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return ch.MIN},t.prototype.maxPost=function(){return ch.MAX},t.prototype.makePost=function(e,t){var n=Mh(e);return new ch(t,n)},t.prototype.toString=function(){return".value"},t}(fh)),jh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wh=(Fh=0,zh=[],function(e){var t,n=e===Fh;Fh=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=jh.charAt(e%64),e=Math.floor(e/64);Ac(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===zh[t];t--)zh[t]=0;zh[t]++}else for(t=0;t<12;t++)zh[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=jh.charAt(zh[t]);return Ac(20===i.length,"nextPushId: Length should be 20."),i}),Bh=function(e){if("2147483647"===e)return"-";var t=bd(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return fd;var o=n[i],a=jh.charAt(jh.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},Vh=function(e){if("-2147483648"===e)return cd;var t=bd(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=jh.charAt(jh.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hh(e){return{type:"value",snapshotNode:e}}function Qh(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function $h(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Yh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Kh=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){Ac(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange($h(t,a)):Ac(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qh(t,n)):o.trackChildChange(Yh(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ih,(function(e,r){t.hasChild(e)||n.trackChildChange($h(e,r))})),t.isLeafNode()||t.forEachChild(Ih,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Yh(t,r,i))}else n.trackChildChange(Qh(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Lh.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Gh=function(){function e(t){this.indexedFilter_=new Kh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new ch(t,n))||(n=Lh.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Lh.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Lh.EMPTY_NODE);var i=this;return t.forEachChild(Ih,(function(e,t){i.matches(new ch(e,t))||(r=r.updateImmediateChild(e,Lh.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Jh=function(){function e(e){this.rangedFilter_=new Gh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new ch(t,n))||(n=Lh.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Lh.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Lh.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Lh.EMPTY_NODE);var l=void 0,s=void 0,u=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&u(l,a)<=0&&(f=!0),f&&o<this.limit_&&u(a,s)<=0?o++:r=r.updateImmediateChild(a.name,Lh.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var l=e;Ac(l.numChildren()===this.limit_,"");var s=new ch(t,n),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(l.hasChild(t)){for(var f=l.getImmediateChild(t),d=r.getChildAfterChild(this.index_,u,this.reverse_);null!=d&&(d.name===t||l.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var h=null==d?1:o(d,s);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Yh(t,n,f)),l.updateImmediateChild(t,n);null!=i&&i.trackChildChange($h(t,f));var p=l.updateImmediateChild(t,Lh.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(Qh(d.name,d.node)),p.updateImmediateChild(d.name,d.node)):p}return n.isEmpty()?e:c&&o(u,s)>=0?(null!=i&&(i.trackChildChange($h(u.name,u.node)),i.trackChildChange(Qh(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(u.name,Lh.EMPTY_NODE)):e},e}(),Xh=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ih}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Ac(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Ac(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cd},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Ac(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Ac(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fd},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Ac(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ih},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function ep(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function tp(e,t){var n=e.copy();return n.index_=t,n}function np(e){var t,n={};return e.isDefault()||(e.index_===Ih?t="$priority":e.index_===Uh?t="$value":e.index_===hh?t="$key":(Ac(e.index_ instanceof qh,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Jc(t),e.startSet_&&(n.startAt=Jc(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Jc(e.indexStartName_))),e.endSet_&&(n.endAt=Jc(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Jc(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function rp(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ih&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=od("p:rest:"),o.listens_={},o}return Tc(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Ac(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var l=t.getListenId_(e,r),s={};this.listens_[l]=s;var u=np(e._queryParams);this.restRequest_(a+".json",u,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),ef(o.listens_,l)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=np(e._queryParams),r=e._path.toString(),i=new Wc;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=Rc(i,2),a=o[0],l=o[1];a&&a.accessToken&&(t.auth=a.accessToken),l&&l.token&&(t.ac=l.token);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=Gc(u.responseText)}catch(t){sd("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&sd("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(Ud),op=function(){function e(){this.rootNode_=Lh.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ap(){return{value:null,children:new Map}}function lp(e,t,n){if(Xd(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Hd(t);e.children.has(r)||e.children.set(r,ap()),lp(e.children.get(r),t=$d(t),n)}}function sp(e,t){if(Xd(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ih,(function(t,n){lp(e,new Bd(t),n)})),sp(e,t)}if(e.children.size>0){var r=Hd(t);if(t=$d(t),e.children.has(r))sp(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function up(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(function(e,r){up(r,new Bd(t.toString()+"/"+e),n)}))}var cp,fp,dp=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=xc({},e);return this.last_&&md(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),hp=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new dp(e);var n=1e4+2e4*Math.random();Cd(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;md(t,(function(t,i){i>0&&Zc(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Cd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(fp=cp||(cp={}))[fp.OVERWRITE=0]="OVERWRITE",fp[fp.MERGE=1]="MERGE",fp[fp.ACK_USER_WRITE=2]="ACK_USER_WRITE",fp[fp.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var vp,yp=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=cp.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Xd(this.path)){if(null!=this.affectedTree.value)return Ac(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Bd(t));return new e(Vd(),n,this.revert)}return Ac(Hd(this.path)===t,"operationForChild called for unrelated child."),new e($d(this.path),this.affectedTree,this.revert)},e}(),mp=function(){function e(e,t){this.source=e,this.path=t,this.type=cp.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Xd(this.path)?new e(this.source,Vd()):new e(this.source,$d(this.path))},e}(),gp=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=cp.OVERWRITE}return e.prototype.operationForChild=function(t){return Xd(this.path)?new e(this.source,Vd(),this.snap.getImmediateChild(t)):new e(this.source,$d(this.path),this.snap)},e}(),_p=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=cp.MERGE}return e.prototype.operationForChild=function(t){if(Xd(this.path)){var n=this.children.subtree(new Bd(t));return n.isEmpty()?null:n.value?new gp(this.source,Vd(),n.value):new e(this.source,Vd(),n)}return Ac(Hd(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,$d(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),bp=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Xd(e))return this.isFullyInitialized()&&!this.filtered_;var t=Hd(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),wp=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Mc("Should only compare child_ events.");var r=new ch(t.childName,t.snapshotNode),i=new ch(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function kp(e,t){return{eventCache:e,serverCache:t}}function Sp(e,t,n,r){return kp(new bp(t,n,r),e.serverCache)}function Ep(e,t,n,r){return kp(e.eventCache,new bp(t,n,r))}function Tp(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function xp(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ip=function(){function e(e,t){void 0===t&&(vp||(vp=new mh(hd)),t=vp),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return md(t,(function(e,t){n=n.set(new Bd(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Vd(),value:this.value};if(Xd(e))return null;var n=Hd(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue($d(e),t);return null!=i?{path:Jd(new Bd(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Xd(t))return this;var n=Hd(t),r=this.children.get(n);return null!==r?r.subtree($d(t)):new e(null)},e.prototype.set=function(t,n){if(Xd(t))return new e(n,this.children);var r=Hd(t),i=(this.children.get(r)||new e(null)).set($d(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Xd(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Hd(t),r=this.children.get(n);if(r){var i=r.remove($d(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Xd(e))return this.value;var t=Hd(e),n=this.children.get(t);return n?n.get($d(e)):null},e.prototype.setTree=function(t,n){if(Xd(t))return n;var r=Hd(t),i=(this.children.get(r)||new e(null)).setTree($d(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(Vd(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Jd(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Vd(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Xd(e))return null;var i=Hd(e),o=this.children.get(i);return o?o.findOnPath_($d(e),Jd(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Vd(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Xd(t))return this;this.value&&r(n,this.value);var i=Hd(t),o=this.children.get(i);return o?o.foreachOnPath_($d(t),Jd(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(Vd(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Jd(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Pp=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Ip(null))},e}();function Np(e,t,n){if(Xd(t))return new Pp(new Ip(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Zd(i,t);return o=o.updateChild(a,n),new Pp(e.writeTree_.set(i,o))}var l=new Ip(n),s=e.writeTree_.setTree(t,l);return new Pp(s)}function Rp(e,t,n){var r=e;return md(n,(function(e,n){r=Np(r,Jd(t,e),n)})),r}function Op(e,t){if(Xd(t))return Pp.empty();var n=e.writeTree_.setTree(t,new Ip(null));return new Pp(n)}function Dp(e,t){return null!=Lp(e,t)}function Lp(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Zd(n.path,t)):null}function Ap(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ih,(function(e,n){t.push(new ch(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new ch(e,n.value))})),t}function Mp(e,t){if(Xd(t))return e;var n=Lp(e,t);return new Pp(null!=n?new Ip(n):e.writeTree_.subtree(t))}function Fp(e){return e.writeTree_.isEmpty()}function zp(e,t){return qp(Vd(),e.writeTree_,t)}function qp(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Ac(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=qp(Jd(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Jd(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(e,t){return Zp(t,e)}function jp(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Ac(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&Wp(l,r.path)?i=!1:nh(r.path,l.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=Vp(e.allWrites,Bp,Vd()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Op(e.visibleWrites,r.path):md(r.children,(function(t){e.visibleWrites=Op(e.visibleWrites,Jd(r.path,t))}));return!0}return!1}function Wp(e,t){if(e.snap)return nh(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&nh(Jd(e.path,n),t))return!0;return!1}function Bp(e){return e.visible}function Vp(e,t,n){for(var r=Pp.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,l=void 0;if(o.snap)nh(n,a)?r=Np(r,l=Zd(n,a),o.snap):nh(a,n)&&(l=Zd(a,n),r=Np(r,Vd(),o.snap.getChild(l)));else{if(!o.children)throw Mc("WriteRecord should have .snap or .children");if(nh(n,a))r=Rp(r,l=Zd(n,a),o.children);else if(nh(a,n))if(Xd(l=Zd(a,n)))r=Rp(r,Vd(),o.children);else{var s=ef(o.children,Hd(l));if(s){var u=s.getChild($d(l));r=Np(r,Vd(),u)}}}}}return r}function Hp(e,t,n,r,i){if(r||i){var o=Mp(e.visibleWrites,t);if(!i&&Fp(o))return n;if(i||null!=n||Dp(o,Vd())){return zp(Vp(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(nh(e.path,t)||nh(t,e.path))}),t),n||Lh.EMPTY_NODE)}return null}var a=Lp(e.visibleWrites,t);if(null!=a)return a;var l=Mp(e.visibleWrites,t);return Fp(l)?n:null!=n||Dp(l,Vd())?zp(l,n||Lh.EMPTY_NODE):null}function Qp(e,t,n,r){return Hp(e.writeTree,e.treePath,t,n,r)}function $p(e,t){return function(e,t,n){var r=Lh.EMPTY_NODE,i=Lp(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ih,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Mp(e.visibleWrites,t);return n.forEachChild(Ih,(function(e,t){var n=zp(Mp(o,new Bd(e)),t);r=r.updateImmediateChild(e,n)})),Ap(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Ap(Mp(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Yp(e,t,n,r){return function(e,t,n,r,i){Ac(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Jd(t,n);if(Dp(e.visibleWrites,o))return null;var a=Mp(e.visibleWrites,o);return Fp(a)?i.getChild(n):zp(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Kp(e,t){return function(e,t){return Lp(e.visibleWrites,t)}(e.writeTree,Jd(e.treePath,t))}function Gp(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var l,s=Mp(e.visibleWrites,t),u=Lp(s,Vd());if(null!=u)l=u;else{if(null==n)return[];l=zp(s,n)}if((l=l.withIndex(a)).isEmpty()||l.isLeafNode())return[];for(var c=[],f=a.getCompare(),d=o?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),h=d.getNext();h&&c.length<i;)0!==f(h,r)&&c.push(h),h=d.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function Jp(e,t,n){return function(e,t,n,r){var i=Jd(t,n),o=Lp(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?zp(Mp(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Xp(e,t){return Zp(Jd(e.treePath,t),e.writeTree)}function Zp(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ev=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Ac("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ac(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Yh(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,$h(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Qh(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Mc("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Yh(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),tv=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),nv=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new bp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jp(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xp(this.viewCache_),i=Gp(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(e,t,n,r,i){var o,a,l=new ev;if(n.type===cp.OVERWRITE){var s=n;s.source.fromUser?o=av(e,t,s.path,s.snap,r,i,l):(Ac(s.source.fromServer,"Unknown source."),a=s.source.tagged||t.serverCache.isFiltered()&&!Xd(s.path),o=ov(e,t,s.path,s.snap,r,i,a,l))}else if(n.type===cp.MERGE){var u=n;u.source.fromUser?o=function(e,t,n,r,i,o,a){var l=t;return r.foreach((function(r,s){var u=Jd(n,r);lv(t,Hd(u))&&(l=av(e,l,u,s,i,o,a))})),r.foreach((function(r,s){var u=Jd(n,r);lv(t,Hd(u))||(l=av(e,l,u,s,i,o,a))})),l}(e,t,u.path,u.children,r,i,l):(Ac(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=uv(e,t,u.path,u.children,r,i,a,l))}else if(n.type===cp.ACK_USER_WRITE){var c=n;o=c.revert?function(e,t,n,r,i,o){var a;if(null!=Kp(r,n))return t;var l=new nv(r,t,i),s=t.eventCache.getNode(),u=void 0;if(Xd(n)||".priority"===Hd(n)){var c=void 0;if(t.serverCache.isFullyInitialized())c=Qp(r,xp(t));else{var f=t.serverCache.getNode();Ac(f instanceof Lh,"serverChildren would be complete if leaf node"),c=$p(r,f)}c=c,u=e.filter.updateFullNode(s,c,o)}else{var d=Hd(n),h=Jp(r,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=s.getImmediateChild(d)),(u=null!=h?e.filter.updateChild(s,d,h,$d(n),l,o):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(s,d,Lh.EMPTY_NODE,$d(n),l,o):s).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Qp(r,xp(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,a,o))}return a=t.serverCache.isFullyInitialized()||null!=Kp(r,Vd()),Sp(t,u,a,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,c.path,r,i,l):function(e,t,n,r,i,o,a){if(null!=Kp(i,n))return t;var l=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Xd(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return ov(e,t,n,s.getNode().getChild(n),i,o,l,a);if(Xd(n)){var u=new Ip(null);return s.getNode().forEachChild(hh,(function(e,t){u=u.set(new Bd(e),t)})),uv(e,t,n,u,i,o,l,a)}return t}var c=new Ip(null);return r.foreach((function(e,t){var r=Jd(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),uv(e,t,n,c,i,o,l,a)}(e,t,c.path,c.affectedTree,r,i,l)}else{if(n.type!==cp.LISTEN_COMPLETE)throw Mc("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=Ep(t,o.getNode(),o.isFullyInitialized()||Xd(n),o.isFiltered());return iv(e,a,n,r,tv,i)}(e,t,n.path,r,l)}var f=l.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Tp(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Hh(Tp(t)))}}(t,o,f),{viewCache:o,changes:f}}function iv(e,t,n,r,i,o){var a=t.eventCache;if(null!=Kp(r,n))return t;var l=void 0,s=void 0;if(Xd(n))if(Ac(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var u=xp(t),c=$p(r,u instanceof Lh?u:Lh.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{var f=Qp(r,xp(t));l=e.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{var d=Hd(n);if(".priority"===d){Ac(1===Qd(n),"Can't have a priority with additional path components");var h=a.getNode(),p=Yp(r,n,h,s=t.serverCache.getNode());l=null!=p?e.filter.updatePriority(h,p):a.getNode()}else{var v=$d(n),y=void 0;if(a.isCompleteForChild(d)){s=t.serverCache.getNode();var m=Yp(r,n,a.getNode(),s);y=null!=m?a.getNode().getImmediateChild(d).updateChild(v,m):a.getNode().getImmediateChild(d)}else y=Jp(r,d,t.serverCache);l=null!=y?e.filter.updateChild(a.getNode(),d,y,v,i,o):a.getNode()}}return Sp(t,l,a.isFullyInitialized()||Xd(n),e.filter.filtersNodes())}function ov(e,t,n,r,i,o,a,l){var s,u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(Xd(n))s=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var f=u.getNode().updateChild(n,r);s=c.updateFullNode(u.getNode(),f,null)}else{var d=Hd(n);if(!u.isCompleteForPath(n)&&Qd(n)>1)return t;var h=$d(n),p=u.getNode().getImmediateChild(d).updateChild(h,r);s=".priority"===d?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),d,p,h,tv,null)}var v=Ep(t,s,u.isFullyInitialized()||Xd(n),c.filtersNodes());return iv(e,v,n,i,new nv(i,v,o),l)}function av(e,t,n,r,i,o,a){var l,s,u=t.eventCache,c=new nv(i,t,o);if(Xd(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=Sp(t,s,!0,e.filter.filtersNodes());else{var f=Hd(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),l=Sp(t,s,u.isFullyInitialized(),u.isFiltered());else{var d=$d(n),h=u.getNode().getImmediateChild(f),p=void 0;if(Xd(d))p=r;else{var v=c.getCompleteChild(f);p=null!=v?".priority"===Yd(d)&&v.getChild(Gd(d)).isEmpty()?v:v.updateChild(d,r):Lh.EMPTY_NODE}if(h.equals(p))l=t;else l=Sp(t,e.filter.updateChild(u.getNode(),f,p,d,c,a),u.isFullyInitialized(),e.filter.filtersNodes())}}return l}function lv(e,t){return e.eventCache.isCompleteForChild(t)}function sv(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function uv(e,t,n,r,i,o,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,u=t;s=Xd(n)?r:new Ip(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var s=sv(0,t.serverCache.getNode().getImmediateChild(n),r);u=ov(e,u,new Bd(n),s,i,o,a,l)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!s){var f=sv(0,t.serverCache.getNode().getImmediateChild(n),r);u=ov(e,u,new Bd(n),f,i,o,a,l)}})),u}var cv,fv=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Kh(r.getIndex()),o=(n=r).loadsAllData()?new Kh(n.getIndex()):n.hasLimit()?new Jh(n):new Gh(n);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return{filter:e}}(o);var a=t.serverCache,l=t.eventCache,s=i.updateFullNode(Lh.EMPTY_NODE,a.getNode(),null),u=o.updateFullNode(Lh.EMPTY_NODE,l.getNode(),null),c=new bp(s,a.isFullyInitialized(),i.filtersNodes()),f=new bp(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=kp(f,c),this.eventGenerator_=new wp(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function dv(e,t){var n=xp(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Xd(t)&&!n.getImmediateChild(Hd(t)).isEmpty())?n.getChild(t):null}function hv(e){return 0===e.eventRegistrations_.length}function pv(e,t,n){var r=[];if(n){Ac(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(l.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(l)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function vv(e,t,n,r){t.type===cp.MERGE&&null!==t.source.queryId&&(Ac(xp(e.viewCache_),"We should always have a full cache before handling merges"),Ac(Tp(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,l=rv(e.processor_,a,t,n,r);return i=e.processor_,o=l.viewCache,Ac(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ac(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Ac(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=l.viewCache,yv(e,l.changes,l.viewCache.eventCache.getNode(),null)}function yv(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Cp(e,i,"child_removed",t,r,n),Cp(e,i,"child_added",t,r,n),Cp(e,i,"child_moved",o,r,n),Cp(e,i,"child_changed",t,r,n),Cp(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mv,gv=function(){this.views=new Map};function _v(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var l=e.views.get(a);return Ac(null!=l,"SyncTree gave us an op for an invalid query."),vv(l,t,n,r)}var s=[];try{for(var u=Nc(e.views.values()),c=u.next();!c.done;c=u.next()){l=c.value;s=s.concat(vv(l,t,n,r))}}catch(f){i={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}function bv(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var l=Qp(n,i?r:null),s=!1;l?s=!0:r instanceof Lh?(l=$p(n,r),s=!1):(l=Lh.EMPTY_NODE,s=!1);var u=kp(new bp(l,s,!1),new bp(r,i,!1));return new fv(t,u)}return a}function wv(e,t,n,r,i,o){var a=bv(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ih,(function(e,t){r.push(Qh(e,t))})),n.isFullyInitialized()&&r.push(Hh(n.getNode())),yv(e,r,n.getNode(),t)}(a,n)}function Cv(e,t,n,r){var i,o,a=t._queryIdentifier,l=[],s=[],u=xv(e);if("default"===a)try{for(var c=Nc(e.views.entries()),f=c.next();!f.done;f=c.next()){var d=Rc(f.value,2),h=d[0],p=d[1];s=s.concat(pv(p,n,r)),hv(p)&&(e.views.delete(h),p.query._queryParams.loadsAllData()||l.push(p.query))}}catch(v){i={error:v}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else(p=e.views.get(a))&&(s=s.concat(pv(p,n,r)),hv(p)&&(e.views.delete(a),p.query._queryParams.loadsAllData()||l.push(p.query)));return u&&!xv(e)&&l.push(new(Ac(cv,"Reference.ts has not been loaded"),cv)(t._repo,t._path)),{removed:l,events:s}}function kv(e){var t,n,r=[];try{for(var i=Nc(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Sv(e,t){var n,r,i=null;try{for(var o=Nc(e.views.values()),a=o.next();!a.done;a=o.next()){var l=a.value;i=i||dv(l,t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Ev(e,t){if(t._queryParams.loadsAllData())return Iv(e);var n=t._queryIdentifier;return e.views.get(n)}function Tv(e,t){return null!=Ev(e,t)}function xv(e){return null!=Iv(e)}function Iv(e){var t,n;try{for(var r=Nc(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pv=1,Nv=function(e){this.listenProvider_=e,this.syncPointTree_=new Ip(null),this.pendingWriteTree_={visibleWrites:Pp.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Rv(e,t,n,r,i){return function(e,t,n,r,i){Ac(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Np(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?qv(e,new gp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ov(e,t,n,r){!function(e,t,n,r){Ac(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Rp(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Ip.fromObject(n);return qv(e,new _p({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Dv(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(jp(e.pendingWriteTree_,t)){var i=new Ip(null);return null!=r.snap?i=i.set(Vd(),!0):md(r.children,(function(e){i=i.set(new Bd(e),!0)})),qv(e,new yp(r.path,i,n))}return[]}function Lv(e,t,n){return qv(e,new gp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Av(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Tv(o,t))){var l=Cv(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var s=l.removed;a=l.events;var u=-1!==s.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return xv(t)}));if(u&&!c){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&xv(t))return[Iv(t)];var r=[];return t&&(r=kv(t)),md(n,(function(e,t){r=r.concat(t)})),r}))}(f),h=0;h<d.length;++h){var p=d[h],v=p.query,y=Wv(e,p);e.listenProvider_.startListening(Yv(v),Bv(e,v),y.hashFn,y.onComplete)}}if(!c&&s.length>0&&!r)if(u){e.listenProvider_.stopListening(Yv(t),null)}else s.forEach((function(t){var n=e.queryToTagMap.get(Vv(t));e.listenProvider_.stopListening(Yv(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Vv(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,s)}return a}function Mv(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Zd(e,r);i=i||Sv(t,n),o=o||xv(t)}));var a,l=e.syncPointTree_.get(r);(l?(o=o||xv(l),i=i||Sv(l,Vd())):(l=new gv,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=i)?a=!0:(a=!1,i=Lh.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Sv(t,Vd());n&&(i=i.updateImmediateChild(e,n))})));var s=Tv(l,t);if(!s&&!t._queryParams.loadsAllData()){var u=Vv(t);Ac(!e.queryToTagMap.has(u),"View does not exist, but we have a tag");var c=Pv++;e.queryToTagMap.set(u,c),e.tagToQueryMap.set(c,u)}var f=wv(l,t,n,Up(e.pendingWriteTree_,r),i,a);if(!s&&!o){var d=Ev(l,t);f=f.concat(function(e,t,n){var r=t._path,i=Bv(e,t),o=Wv(e,n),a=e.listenProvider_.startListening(Yv(t),i,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(r);if(i)Ac(!xv(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=l.fold((function(e,t,n){if(!Xd(e)&&t&&xv(t))return[Iv(t).query];var r=[];return t&&(r=r.concat(kv(t).map((function(e){return e.query})))),md(n,(function(e,t){r=r.concat(t)})),r})),u=0;u<s.length;++u){var c=s[u];e.listenProvider_.stopListening(Yv(c),Bv(e,c))}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,d))}return f}function Fv(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Sv(n,Zd(e,t));if(r)return r}));return Hp(r,t,i,n,!0)}function zv(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Zd(e,n);r=r||Sv(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Sv(i,Vd()):(i=new gv,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new bp(r,!0,!1):null;return function(e){return Tp(e.viewCache_)}(bv(i,t,Up(e.pendingWriteTree_,t._path),o?a.getNode():Lh.EMPTY_NODE,o))}function qv(e,t){return Uv(t,e.syncPointTree_,null,Up(e.pendingWriteTree_,Vd()))}function Uv(e,t,n,r){if(Xd(e.path))return jv(e,t,n,r);var i=t.get(Vd());null==n&&null!=i&&(n=Sv(i,Vd()));var o=[],a=Hd(e.path),l=e.operationForChild(a),s=t.children.get(a);if(s&&l){var u=n?n.getImmediateChild(a):null,c=Xp(r,a);o=o.concat(Uv(l,s,u,c))}return i&&(o=o.concat(_v(i,e,r,n))),o}function jv(e,t,n,r){var i=t.get(Vd());null==n&&null!=i&&(n=Sv(i,Vd()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,l=Xp(r,t),s=e.operationForChild(t);s&&(o=o.concat(jv(s,i,a,l)))})),i&&(o=o.concat(_v(i,e,r,n))),o}function Wv(e,t){var n=t.query,r=Bv(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Lh.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Hv(e,n);if(r){var i=Qv(r),o=i.path,a=i.queryId,l=Zd(o,t);return $v(e,o,new mp(pp(a),l))}return[]}(e,n._path,r):function(e,t){return qv(e,new mp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Av(e,n,null,i)}}}function Bv(e,t){var n=Vv(t);return e.queryToTagMap.get(n)}function Vv(e){return e._path.toString()+"$"+e._queryIdentifier}function Hv(e,t){return e.tagToQueryMap.get(t)}function Qv(e){var t=e.indexOf("$");return Ac(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Bd(e.substr(0,t))}}function $v(e,t,n){var r=e.syncPointTree_.get(t);return Ac(r,"Missing sync point for query tag that we're tracking"),_v(r,n,Up(e.pendingWriteTree_,t),null)}function Yv(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ac(mv,"Reference.ts has not been loaded"),mv)(e._repo,e._path):e}var Kv=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Gv=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Jd(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Fv(this.syncTree_,this.path_)},e}(),Jv=function(e,t,n){return e&&"object"==typeof e?(Ac(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Xv(e[".sv"],t,n):"object"==typeof e[".sv"]?Zv(e[".sv"],t):void Ac(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Xv=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Ac(!1,"Unexpected server value: "+e)}},Zv=function(e,t,n){e.hasOwnProperty("increment")||Ac(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Ac(!1,"Unexpected increment value: "+r);var i=t.node();if(Ac(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},ey=function(e,t,n,r){return ny(t,new Gv(n,e),r)},ty=function(e,t,n){return ny(e,new Kv(t),n)};function ny(e,t,n){var r,i=e.getPriority().val(),o=Jv(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,l=Jv(a.getValue(),t,n);return l!==a.getValue()||o!==a.getPriority().val()?new Eh(l,Mh(o)):e}var s=e;return r=s,o!==s.getPriority().val()&&(r=r.updatePriority(new Eh(o))),s.forEachChild(Ih,(function(e,i){var o=ny(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ry=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function iy(e,t){for(var n=t instanceof Bd?t:new Bd(t),r=e,i=Hd(n);null!==i;){var o=ef(r.node.children,i)||{children:{},childCount:0};r=new ry(i,r,o),i=Hd(n=$d(n))}return r}function oy(e){return e.node.value}function ay(e,t){e.node.value=t,fy(e)}function ly(e){return e.node.childCount>0}function sy(e,t){md(e.node.children,(function(n,r){t(new ry(n,e,r))}))}function uy(e,t,n,r){n&&!r&&t(e),sy(e,(function(e){uy(e,t,!0,r)})),n&&r&&t(e)}function cy(e){return new Bd(null===e.parent?e.name:cy(e.parent)+"/"+e.name)}function fy(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===oy(e)&&!ly(e)}(n),i=Zc(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,fy(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,fy(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}var dy=/[\[\].#$\/\u0000-\u001F\u007F]/,hy=/[\[\].#$\u0000-\u001F\u007F]/,py=function(e){return"string"==typeof e&&0!==e.length&&!dy.test(e)},vy=function(e){return"string"==typeof e&&0!==e.length&&!hy.test(e)},yy=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!ud(e)||e&&"object"==typeof e&&Zc(e,".sv")},my=function(e,t,n,r){r&&void 0===t||gy(uf(e,"value"),t,n)},gy=function(e,t,n){var r=n instanceof Bd?new rh(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+oh(r));if("function"==typeof t)throw new Error(e+"contains a function "+oh(r)+" with contents = "+t.toString());if(ud(t))throw new Error(e+"contains "+t.toString()+" "+oh(r));if("string"==typeof t&&t.length>10485760/3&&df(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+oh(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(md(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!py(t)))throw new Error(e+" contains an invalid key ("+t+") "+oh(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,l;l=t,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(l),a.byteLength_+=df(l),ih(a),gy(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=df(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&o)throw new Error(e+' contains ".value" child '+oh(r)+" in addition to actual children.")}},_y=function(e,t,n,r){if(!r||void 0!==t){var i=uf(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];md(t,(function(e,t){var r=new Bd(e);if(gy(i,t,Jd(n,r)),".priority"===Yd(r)&&!yy(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Kd(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!py(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(eh);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&nh(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}},by=function(e,t,n){if(!n||void 0!==t){if(ud(t))throw new Error(uf(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yy(t))throw new Error(uf(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wy=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(uf(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Cy=function(e,t,n,r){if(!(r&&void 0===n||py(n)))throw new Error(uf(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ky=function(e,t,n,r){if(!(r&&void 0===n||vy(n)))throw new Error(uf(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Sy=function(e,t){if(".info"===Hd(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ey=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!py(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),vy(e)}(n))throw new Error(uf(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ty=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(uf(e,t)+"must be a boolean.")},xy=function(){this.eventLists_=[],this.recursionDepth_=0};function Iy(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||th(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Py(e,t,n){Iy(e,n),Ry(e,(function(e){return th(e,t)}))}function Ny(e,t,n){Iy(e,n),Ry(e,(function(e){return nh(e,t)||nh(t,e)}))}function Ry(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Oy(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Oy(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();td&&id("event: "+n.toString()),wd(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dy=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ap(),this.transactionQueueTree_=new ry,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Ly(e,t,n){if(e.stats_=Od(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ip(e.repoInfo_,(function(t,n,r,i){Fy(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return zy(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jc(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}e.persistentConnection_=new uh(e.repoInfo_,t,(function(t,n,r,i){Fy(e,t,n,r,i)}),(function(t){zy(e,t)}),(function(t){!function(e,t){md(t,(function(t,n){qy(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=e.repoInfo_,i=function(){return new hp(e.stats_,e.server_)},o=r.toString(),Rd[o]||(Rd[o]=i()),Rd[o]),e.infoData_=new op,e.infoSyncTree_=new Nv({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Lv(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),qy(e,"connected",!1),e.serverSyncTree_=new Nv({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Ny(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Ay(e){var t=e.infoData_.getNode(new Bd(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function My(e){return(t=(t={timestamp:Ay(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Fy(e,t,n,r,i){e.dataUpdateCount++;var o=new Bd(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=nf(n,(function(e){return Mh(e)}));a=function(e,t,n,r){var i=Hv(e,r);if(i){var o=Qv(i),a=o.path,l=o.queryId,s=Zd(a,t),u=Ip.fromObject(n);return $v(e,a,new _p(pp(l),s,u))}return[]}(e.serverSyncTree_,o,l,i)}else{var s=Mh(n);a=function(e,t,n,r){var i=Hv(e,r);if(null!=i){var o=Qv(i),a=o.path,l=o.queryId,s=Zd(a,t);return $v(e,a,new gp(pp(l),s,n))}return[]}(e.serverSyncTree_,o,s,i)}else if(r){var u=nf(n,(function(e){return Mh(e)}));a=function(e,t,n){var r=Ip.fromObject(n);return qv(e,new _p({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,u)}else{var c=Mh(n);a=Lv(e.serverSyncTree_,o,c)}var f=o;a.length>0&&(f=Gy(e,o)),Ny(e.eventQueue_,f,a)}function zy(e,t){qy(e,"connected",t),!1===t&&function(e){Qy(e,"onDisconnectEvents");var t=My(e),n=ap();up(e.onDisconnect_,Vd(),(function(r,i){var o=ey(r,i,e.serverSyncTree_,t);lp(n,r,o)}));var r=[];up(n,Vd(),(function(t,n){r=r.concat(Lv(e.serverSyncTree_,t,n));var i=tm(e,t);Gy(e,i)})),e.onDisconnect_=ap(),Ny(e.eventQueue_,Vd(),r)}(e)}function qy(e,t,n){var r=new Bd("/.info/"+t),i=Mh(n);e.infoData_.updateSnapshot(r,i);var o=Lv(e.infoSyncTree_,r,i);Ny(e.eventQueue_,r,o)}function Uy(e){return e.nextWriteId_++}function jy(e,t,n,r,i){Qy(e,"set",{path:t.toString(),value:n,priority:r});var o=My(e),a=Mh(n,r),l=Fv(e.serverSyncTree_,t),s=ty(a,l,o),u=Uy(e),c=Rv(e.serverSyncTree_,t,s,u,!0);Iy(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||sd("set at "+t+" failed: "+n);var a=Dv(e.serverSyncTree_,u,!o);Ny(e.eventQueue_,t,a),$y(e,i,n,r)}));var f=tm(e,t);Gy(e,f),Ny(e.eventQueue_,f,[])}function Wy(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&sp(e.onDisconnect_,t),$y(e,n,r,i)}))}function By(e,t,n,r){var i=Mh(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&lp(e.onDisconnect_,t,i),$y(e,r,n,o)}))}function Vy(e,t,n){var r;r=".info"===Hd(t._path)?Av(e.infoSyncTree_,t,n):Av(e.serverSyncTree_,t,n),Py(e.eventQueue_,t._path,r)}function Hy(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function Qy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),id.apply(void 0,Oc([r],Rc(t)))}function $y(e,t,n,r){t&&wd((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Yy(e,t,n){return Fv(e.serverSyncTree_,t,n)||Lh.EMPTY_NODE}function Ky(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||em(e,t),oy(t)){var n=Xy(e,t);Ac(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Yy(e,t,r),o=i,a=i.hash(),l=0;l<n.length;l++){var s=n[l];Ac(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var u=Zd(t,s.path);o=o.updateChild(u,s.currentOutputSnapshotRaw)}var c=o.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){Qy(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Dv(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},l=0;l<n.length;l++)a(l);em(e,iy(e.transactionQueueTree_,t)),Ky(e,e.transactionQueueTree_),Ny(e.eventQueue_,t,i);for(l=0;l<o.length;l++)wd(o[l])}else{if("datastale"===r)for(l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{sd("transaction at "+f.toString()+" failed: "+r);for(l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Gy(e,t)}}),a)}(e,cy(t),n)}else ly(t)&&sy(t,(function(t){Ky(e,t)}))}function Gy(e,t){var n=Jy(e,t),r=cy(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=function(a){var l,s,u=t[a],c=Zd(n,u.path),f=!1;if(Ac(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)f=!0,l=u.abortReason,i=i.concat(Dv(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)f=!0,l="maxretry",i=i.concat(Dv(e.serverSyncTree_,u.currentWriteId,!0));else{var d=Yy(e,u.path,o);u.currentInputSnapshot=d;var h=t[a].update(d.val());if(void 0!==h){gy("transaction failed: Data returned ",h,u.path);var p=Mh(h);"object"==typeof h&&null!=h&&Zc(h,".priority")||(p=p.updatePriority(d.getPriority()));var v=u.currentWriteId,y=My(e),m=ty(p,d,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=Uy(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Rv(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(Dv(e.serverSyncTree_,v,!0))}else f=!0,l="nodata",i=i.concat(Dv(e.serverSyncTree_,u.currentWriteId,!0))}Ny(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===l?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(l),!1,null)}))))},l=0;l<t.length;l++)a(l);em(e,e.transactionQueueTree_);for(l=0;l<r.length;l++)wd(r[l]);Ky(e,e.transactionQueueTree_)}(e,Xy(e,n),r),r}function Jy(e,t){var n,r=e.transactionQueueTree_;for(n=Hd(t);null!==n&&void 0===oy(r);)r=iy(r,n),n=Hd(t=$d(t));return r}function Xy(e,t){var n=[];return Zy(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Zy(e,t,n){var r=oy(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);sy(t,(function(t){Zy(e,t,n)}))}function em(e,t){var n=oy(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,ay(t,n.length>0?n:void 0)}sy(t,(function(t){em(e,t)}))}function tm(e,t){var n=cy(Jy(e,t)),r=iy(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){nm(e,t)})),nm(e,r),uy(r,(function(t){nm(e,t)})),n}function nm(e,t){var n=oy(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Ac(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Ac(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Dv(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?ay(t,void 0):n.length=o+1,Ny(e.eventQueue_,cy(t),i);for(a=0;a<r.length;a++)wd(r[a])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rm=function(e,t){var n=im(e),r=n.namespace;"firebase.com"===n.domain&&ld(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||ld("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&sd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new xd(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Bd(n.pathString)}},im=function(e){var t="",n="",r="",i="",o="",a=!0,l="https",s=443;if("string"==typeof e){var u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(c,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Nc(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var l=a.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):sd("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(u=t.indexOf(":"))>=0?(a="https"===l||"wss"===l,s=parseInt(t.substring(u+1),10)):u=t.length;var h=t.slice(0,u);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:o}},om=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Jc(this.snapshot.exportVal())},e}(),am=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),lm=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Ac(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),sm=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new Wc;return Wy(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Sy("OnDisconnect.remove",this._path);var e=new Wc;return By(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Sy("OnDisconnect.set",this._path),my("OnDisconnect.set",e,this._path,!1);var t=new Wc;return By(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Sy("OnDisconnect.setWithPriority",this._path),my("OnDisconnect.setWithPriority",e,this._path,!1),by("OnDisconnect.setWithPriority",t,!1);var n=new Wc;return function(e,t,n,r,i){var o=Mh(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&lp(e.onDisconnect_,t,o),$y(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Sy("OnDisconnect.update",this._path),_y("OnDisconnect.update",e,this._path,!1);var t=new Wc;return function(e,t,n,r){if(tf(n))return id("onDisconnect().update() called with empty data.  Don't do anything."),void $y(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&md(n,(function(n,r){var i=Mh(r);lp(e.onDisconnect_,Jd(t,n),i)})),$y(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),um=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Xd(this._path)?null:Yd(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new hm(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=rp(this._queryParams),t=vd(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return rp(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=hf(t))instanceof e))return!1;var n=this._repo===t._repo,r=th(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function cm(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function fm(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===hh){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==cd)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==fd)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ih){if(null!=t&&!yy(t)||null!=n&&!yy(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ac(e.getIndex()instanceof qh||e.getIndex()===Uh,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function dm(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var hm=function(e){function t(t,n){return e.call(this,t,n,new Xh,!1)||this}return Tc(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Gd(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(um),pm=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Bd(t),r=mm(this.ref,t);return new e(this._node.getChild(n),r,Ih)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,mm(n.ref,r),Ih))}))},e.prototype.hasChild=function(e){var t=new Bd(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function vm(e,t){return(e=hf(e))._checkNotDeleted("ref"),void 0!==t?mm(e._root,t):e._root}function ym(e,t){(e=hf(e))._checkNotDeleted("refFromURL");var n=rm(t,e._repo.repoInfo_.nodeAdmin);Ey("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||ld("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),vm(e,n.path.toString())}function mm(e,t){var n,r,i,o;return null===Hd((e=hf(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ky(n,r,i,o)):ky("child","path",t,!1),new hm(e._repo,Jd(e._path,t))}function gm(e,t){e=hf(e),Sy("push",e._path),my("push",t,e._path,!0);var n,r=Ay(e._repo),i=Wh(r),o=mm(e,i),a=mm(e,i);return n=null!=t?bm(a,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function _m(e){return Sy("remove",e._path),bm(e,null)}function bm(e,t){e=hf(e),Sy("set",e._path),my("set",t,e._path,!1);var n=new Wc;return jy(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function wm(e,t){e=hf(e),Sy("setPriority",e._path),by("setPriority",t,!1);var n=new Wc;return jy(e._repo,Jd(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Cm(e,t,n){if(Sy("setWithPriority",e._path),my("setWithPriority",t,e._path,!1),by("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Wc;return jy(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function km(e,t){_y("update",t,e._path,!1);var n=new Wc;return function(e,t,n,r){Qy(e,"update",{path:t.toString(),value:n});var i=!0,o=My(e),a={};if(md(n,(function(n,r){i=!1,a[n]=ey(Jd(t,n),Mh(r),e.serverSyncTree_,o)})),i)id("update() called with empty data.  Don't do anything."),$y(0,r,"ok",void 0);else{var l=Uy(e),s=Ov(e.serverSyncTree_,t,a,l);Iy(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||sd("update at "+t+" failed: "+n);var a=Dv(e.serverSyncTree_,l,!o),s=a.length>0?Gy(e,t):t;Ny(e.eventQueue_,s,a),$y(0,r,n,i)})),md(n,(function(n){var r=tm(e,Jd(t,n));Gy(e,r)})),Ny(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Sm(e){return function(e,t){var n=zv(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Mh(n).withIndex(t._queryParams.getIndex()),i=Lv(e.serverSyncTree_,t._path,r);return Py(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Qy(e,"get for query "+Jc(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=hf(e))._repo,e).then((function(t){return new pm(t,new hm(e._repo,e._path),e._queryParams.getIndex())}))}var Em=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new om("value",this,new pm(e.snapshotNode,new hm(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new am(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Tm=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new am(this,e,t):null},e.prototype.createEvent=function(e,t){Ac(null!=e.childName,"Child events should have a childName.");var n=mm(new hm(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new om(e.type,this,new pm(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function xm(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,l=function(t,n){Vy(e._repo,e,u),a(t,n)};l.userCallback=n.userCallback,l.context=n.context,n=l}var s=new lm(n,o||void 0),u="value"===t?new Em(s):new Tm(t,s);return function(e,t,n){var r;r=".info"===Hd(t._path)?Mv(e.infoSyncTree_,t,n):Mv(e.serverSyncTree_,t,n),Py(e.eventQueue_,t._path,r)}(e._repo,e,u),function(){return Vy(e._repo,e,u)}}function Im(e,t,n,r){return xm(e,"value",t,n,r)}function Pm(e,t,n,r){return xm(e,"child_added",t,n,r)}function Nm(e,t,n,r){return xm(e,"child_changed",t,n,r)}function Rm(e,t,n,r){return xm(e,"child_moved",t,n,r)}function Om(e,t,n,r){return xm(e,"child_removed",t,n,r)}function Dm(e,t,n){var r=null,i=n?new lm(n):null;"value"===t?r=new Em(i):t&&(r=new Tm(t,i)),Vy(e._repo,e,r)}var Lm=function(){},Am=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Tc(t,e),t.prototype._apply=function(e){my("endAt",this._value,e._path,!0);var t=ep(e._queryParams,this._value,this._key);if(dm(t),fm(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new um(e._repo,e._path,t,e._orderByCalled)},t}(Lm);function Mm(e,t){return Cy("endAt","key",t,!0),new Am(e,t)}var Fm=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Tc(t,e),t.prototype._apply=function(e){my("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===hh?("string"==typeof n&&(n=Vh(n)),i=ep(t,n,r)):i=ep(t,n,null==r?cd:Vh(r)),i.endBeforeSet_=!0,i);if(dm(o),fm(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new um(e._repo,e._path,o,e._orderByCalled)},t}(Lm);function zm(e,t){return Cy("endBefore","key",t,!0),new Fm(e,t)}var qm=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Tc(t,e),t.prototype._apply=function(e){my("startAt",this._value,e._path,!0);var t=Zh(e._queryParams,this._value,this._key);if(dm(t),fm(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new um(e._repo,e._path,t,e._orderByCalled)},t}(Lm);function Um(e,t){return void 0===e&&(e=null),Cy("startAt","key",t,!0),new qm(e,t)}var jm=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Tc(t,e),t.prototype._apply=function(e){my("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===hh?("string"==typeof t&&(t=Bh(t)),r=Zh(e,t,n)):r=Zh(e,t,null==n?fd:Bh(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(dm(t),fm(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new um(e._repo,e._path,t,e._orderByCalled)},t}(Lm);function Wm(e,t){return Cy("startAfter","key",t,!0),new jm(e,t)}var Bm=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Tc(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new um(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(Lm);function Vm(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Bm(e)}var Hm=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Tc(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new um(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(Lm);function Qm(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Hm(e)}var $m=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Tc(t,e),t.prototype._apply=function(e){cm(e,"orderByChild");var t=new Bd(this._path);if(Xd(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new qh(t),r=tp(e._queryParams,n);return fm(r),new um(e._repo,e._path,r,!0)},t}(Lm);function Ym(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ky("orderByChild","path",e,!1),new $m(e)}var Km=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tc(t,e),t.prototype._apply=function(e){cm(e,"orderByKey");var t=tp(e._queryParams,hh);return fm(t),new um(e._repo,e._path,t,!0)},t}(Lm);function Gm(){return new Km}var Jm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tc(t,e),t.prototype._apply=function(e){cm(e,"orderByPriority");var t=tp(e._queryParams,Ih);return fm(t),new um(e._repo,e._path,t,!0)},t}(Lm);function Xm(){return new Jm}var Zm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tc(t,e),t.prototype._apply=function(e){cm(e,"orderByValue");var t=tp(e._queryParams,Uh);return fm(t),new um(e._repo,e._path,t,!0)},t}(Lm);function eg(){return new Zm}var tg=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Tc(t,e),t.prototype._apply=function(e){if(my("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Am(this._value,this._key)._apply(new qm(this._value,this._key)._apply(e))},t}(Lm);function ng(e,t){return Cy("equalTo","key",t,!0),new tg(e,t)}function rg(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=hf(e);try{for(var a=Nc(r),l=a.next();!l.done;l=a.next()){var s=l.value;o=s._apply(o)}}catch(u){t={error:u}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}!function(e){Ac(!cv,"__referenceConstructor has already been defined"),cv=e}(hm),function(e){Ac(!mv,"__referenceConstructor has already been defined"),mv=e}(hm);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ig={},og=!1;function ag(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||ld("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),id("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,l=rm(o,i),s=l.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(a=!0,o="http://"+u+"?ns="+s.namespace,s=(l=rm(o,i)).repoInfo):a=!l.repoInfo.secure;var c=i&&a?new Ed(Ed.OWNER):new Sd(e.name,e.options,t);Ey("Invalid Firebase Database URL",l),Xd(l.path)||ld("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=ig[t.name];i||(i={},ig[t.name]=i);var o=i[e.toURLString()];o&&ld("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Dy(e,og,n,r),i[e.toURLString()]=o,o}(s,e,c,new kd(e.name,n));return new lg(f,e)}var lg=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Ly(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new hm(this._repo,Vd())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=ig[t])&&n[e.key]===e||ld("Database "+t+"("+e.repoInfo_+") has already been deleted."),Hy(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&ld("Cannot call "+e+" on a deleted database.")},e}();function sg(e,t,n,r){void 0===r&&(r={}),(e=hf(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&ld("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ld('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ed(Ed.OWNER);else if(r.mockUserToken){var a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=xc({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zc.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),zc.encodeString(JSON.stringify(o),!1),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.mockUserToken,e.app.options.projectId);o=new Ed(a)}!function(e,t,n,r){e.repoInfo_=new xd(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function ug(e){(e=hf(e))._checkNotDeleted("goOffline"),Hy(e._repo)}function cg(e){var t;(e=hf(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fg={".sv":"timestamp"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dg=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function hg(e,t,n){var r;if(e=hf(e),Sy("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new Wc,a=Im(e,(function(){}));return function(e,t,n,r,i,o){Qy(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:Xf(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Yy(e,t,void 0);a.currentInputSnapshot=l;var s=a.update(l.val());if(void 0===s)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{gy("transaction failed: Data returned ",s,a.path),a.status=0;var u=iy(e.transactionQueueTree_,t),c=oy(u)||[];c.push(a),ay(u,c);var f=void 0;"object"==typeof s&&null!==s&&Zc(s,".priority")?(f=ef(s,".priority"),Ac(yy(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Fv(e.serverSyncTree_,t)||Lh.EMPTY_NODE).getPriority().val();var d=My(e),h=Mh(s,f),p=ty(h,l,d);a.currentOutputSnapshotRaw=h,a.currentOutputSnapshotResolved=p,a.currentWriteId=Uy(e);var v=Rv(e.serverSyncTree_,t,p,a.currentWriteId,a.applyLocally);Ny(e.eventQueue_,t,v),Ky(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new pm(r,new hm(e._repo,e._path),Ih),o.resolve(new dg(n,i)))}),a,i),o.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pg=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){sf("OnDisconnect.cancel",0,1,arguments.length),cf("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){sf("OnDisconnect.remove",0,1,arguments.length),cf("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){sf("OnDisconnect.set",1,2,arguments.length),cf("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){sf("OnDisconnect.setWithPriority",2,3,arguments.length),cf("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(sf("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,sd("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}cf("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),vg=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return sf("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),yg=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return sf("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return sf("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return sf("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return sf("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return sf("DataSnapshot.child",0,1,arguments.length),t=String(t),ky("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return sf("DataSnapshot.hasChild",1,1,arguments.length),ky("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return sf("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return sf("DataSnapshot.forEach",1,1,arguments.length),cf("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return sf("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return sf("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return sf("DataSnapshot.ref",0,0,arguments.length),new gg(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),mg=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,a=this;sf("Query.on",2,4,arguments.length),cf("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(l.context,new yg(a.database,e),t)};s.userCallback=n,s.context=l.context;var u=null===(o=l.cancel)||void 0===o?void 0:o.bind(l.context);switch(t){case"value":return Im(this._delegate,s,u),n;case"child_added":return Pm(this._delegate,s,u),n;case"child_removed":return Om(this._delegate,s,u),n;case"child_changed":return Nm(this._delegate,s,u),n;case"child_moved":return Rm(this._delegate,s,u),n;default:throw new Error(uf("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(sf("Query.off",0,3,arguments.length),wy("Query.off",e,!0),cf("Query.off","callback",t,!0),ff("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Dm(this._delegate,e,r)}else Dm(this._delegate,e)},e.prototype.get=function(){var e=this;return Sm(this._delegate).then((function(t){return new yg(e.database,t)}))},e.prototype.once=function(t,n,r,i){var o=this;sf("Query.once",1,4,arguments.length),cf("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new Wc,s=function(e,t){var r=new yg(o.database,e);n&&n.call(a.context,r,t),l.resolve(r)};s.userCallback=n,s.context=a.context;var u=function(e){a.cancel&&a.cancel.call(a.context,e),l.reject(e)};switch(t){case"value":Im(this._delegate,s,u,{onlyOnce:!0});break;case"child_added":Pm(this._delegate,s,u,{onlyOnce:!0});break;case"child_removed":Om(this._delegate,s,u,{onlyOnce:!0});break;case"child_changed":Nm(this._delegate,s,u,{onlyOnce:!0});break;case"child_moved":Rm(this._delegate,s,u,{onlyOnce:!0});break;default:throw new Error(uf("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return sf("Query.limitToFirst",1,1,arguments.length),new e(this.database,rg(this._delegate,Vm(t)))},e.prototype.limitToLast=function(t){return sf("Query.limitToLast",1,1,arguments.length),new e(this.database,rg(this._delegate,Qm(t)))},e.prototype.orderByChild=function(t){return sf("Query.orderByChild",1,1,arguments.length),new e(this.database,rg(this._delegate,Ym(t)))},e.prototype.orderByKey=function(){return sf("Query.orderByKey",0,0,arguments.length),new e(this.database,rg(this._delegate,Gm()))},e.prototype.orderByPriority=function(){return sf("Query.orderByPriority",0,0,arguments.length),new e(this.database,rg(this._delegate,Xm()))},e.prototype.orderByValue=function(){return sf("Query.orderByValue",0,0,arguments.length),new e(this.database,rg(this._delegate,eg()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),sf("Query.startAt",0,2,arguments.length),new e(this.database,rg(this._delegate,Um(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),sf("Query.startAfter",0,2,arguments.length),new e(this.database,rg(this._delegate,Wm(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),sf("Query.endAt",0,2,arguments.length),new e(this.database,rg(this._delegate,Mm(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),sf("Query.endBefore",0,2,arguments.length),new e(this.database,rg(this._delegate,zm(t,n)))},e.prototype.equalTo=function(t,n){return sf("Query.equalTo",1,2,arguments.length),new e(this.database,rg(this._delegate,ng(t,n)))},e.prototype.toString=function(){return sf("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return sf("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(sf("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,cf(e,"cancel",r.cancel,!0),r.context=n,ff(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(uf(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new gg(this.database,new hm(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),gg=function(e){function t(t,n){var r=e.call(this,t,new um(n._repo,n._path,new Xh,!1))||this;return r.database=t,r._delegate=n,r}return Tc(t,e),t.prototype.getKey=function(){return sf("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return sf("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,mm(this._delegate,e))},t.prototype.getParent=function(){sf("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return sf("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){sf("Reference.set",1,2,arguments.length),cf("Reference.set","onComplete",t,!0);var n=bm(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(sf("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,sd("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Sy("Reference.update",this._delegate._path),cf("Reference.update","onComplete",t,!0);var i=km(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){sf("Reference.setWithPriority",2,3,arguments.length),cf("Reference.setWithPriority","onComplete",n,!0);var r=Cm(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){sf("Reference.remove",0,1,arguments.length),cf("Reference.remove","onComplete",e,!0);var t=_m(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;sf("Reference.transaction",1,3,arguments.length),cf("Reference.transaction","transactionUpdate",e,!1),cf("Reference.transaction","onComplete",t,!0),Ty("Reference.transaction","applyLocally",n,!0);var i=hg(this._delegate,e,{applyLocally:n}).then((function(e){return new vg(e.committed,new yg(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){sf("Reference.setPriority",1,2,arguments.length),cf("Reference.setPriority","onComplete",t,!0);var n=wm(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;sf("Reference.push",0,2,arguments.length),cf("Reference.push","onComplete",n,!0);var i=gm(this._delegate,e),o=i.then((function(e){return new t(r.database,e)}));n&&o.then((function(){return n(null)}),(function(e){return n(e)}));var a=new t(this.database,i);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a},t.prototype.onDisconnect=function(){return Sy("Reference.onDisconnect",this._delegate._path),new pg(new sm(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(mg),_g=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),sg(this._delegate,e,t,n)},e.prototype.ref=function(e){if(sf("database.ref",0,1,arguments.length),e instanceof gg){var t=ym(this._delegate,e.toString());return new gg(this,t)}t=vm(this._delegate,e);return new gg(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";sf(t,1,1,arguments.length);var n=ym(this._delegate,e);return new gg(this,n)},e.prototype.goOffline=function(){return sf("database.goOffline",0,0,arguments.length),ug(this._delegate)},e.prototype.goOnline=function(){return sf("database.goOnline",0,0,arguments.length),cg(this._delegate)},e.ServerValue={TIMESTAMP:fg,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bg=Object.freeze({__proto__:null,forceLongPolling:function(){Fd.forceDisallow(),Ld.forceAllow()},forceWebSockets:function(){Ld.forceDisallow()},isWebSocketsAvailable:function(){return Fd.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new dp(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);md(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,l=void 0!==a&&a;Vf(r);var s=new vf("auth-internal",new mf("database-standalone"));return s.setComponent(new pf("auth-internal",(function(){return i}),"PRIVATE")),{instance:new _g(ag(t,s,void 0,n,l),t),namespace:o}}}),wg=uh;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uh.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},uh.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Cg,kg=qd,Sg=xd,Eg=Object.freeze({__proto__:null,DataConnection:wg,RealTimeConnection:kg,hijackHash:function(e){var t=uh.prototype.put;return uh.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){uh.prototype.put=t}},ConnectionTarget:Sg,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){og=e}(e)}}),Tg=_g.ServerValue;Vf((Cg=Wf).SDK_VERSION),Cg.INTERNAL.registerComponent(new pf("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new _g(ag(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:gg,Query:mg,Database:_g,DataSnapshot:yg,enableLogging:rd,INTERNAL:bg,ServerValue:Tg,TEST_ACCESS:Eg}).setMultipleInstances(!0)),Cg.registerVersion("@firebase/database","0.10.2");export{uc as F,z as R,Ku as a,Wf as f,Sc as l,t as r};
